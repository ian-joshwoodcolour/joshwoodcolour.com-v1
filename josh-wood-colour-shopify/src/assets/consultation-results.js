/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1]
/******/ 		var executeModules = data[2];
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fullfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fullfilled = false;
/******/ 			}
/******/ 			if(fullfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	var installedChunks = {
/******/ 		"consultation-results": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/assets/";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/js/consultation-results.js","vendor"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/components/cart.js":
/*!***********************************!*\
  !*** ./src/js/components/cart.js ***!
  \***********************************/
/*! exports provided: trackAddToCart, getCart, updateCartSummary, showCartSummaryModal, addToCart, updateCartProduct, init, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
<<<<<<< HEAD
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trackAddToCart\", function() { return trackAddToCart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCart\", function() { return getCart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateCartSummary\", function() { return updateCartSummary; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showCartSummaryModal\", function() { return showCartSummaryModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addToCart\", function() { return addToCart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateCartProduct\", function() { return updateCartProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/preact-compat/dist/preact-compat.es.js\");\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! animejs */ \"./node_modules/animejs/anime.min.js\");\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(animejs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/eq */ \"./node_modules/lodash/eq.js\");\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_eq__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/get */ \"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/fromPairs */ \"./node_modules/lodash/fromPairs.js\");\n/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_fromPairs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/isEmpty */ \"./node_modules/lodash/isEmpty.js\");\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/map */ \"./node_modules/lodash/map.js\");\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash_replace__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/replace */ \"./node_modules/lodash/replace.js\");\n/* harmony import */ var lodash_replace__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_replace__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modal */ \"./src/js/components/modal.js\");\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../services/helpers */ \"./src/js/services/helpers.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../config */ \"./src/js/config.js\");\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar els = {};\n\nvar REFRESH_ON_CHANGE = true;\n\nvar cart = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.cart');\nvar cartLocked = false;\nvar cartSummaryModalItemTemplate = void 0;\n\nvar lockCart = function lockCart() {\n    return cartLocked = true;\n};\nvar unlockCart = function unlockCart() {\n    return cartLocked = false;\n};\n\nvar shopifyRequest = function shopifyRequest(url, data) {\n    return new Promise(function (resolve, reject) {\n        if (!cartLocked) {\n            lockCart();\n\n            fetch(url, Object(_services_helpers__WEBPACK_IMPORTED_MODULE_9__[\"getFetchParams\"])(data)).then(function (response) {\n                return response.json();\n            }).then(function (response) {\n                unlockCart();\n                resolve(response);\n            }).catch(function (error) {\n                unlockCart();\n                reject(error);\n            });\n        }\n    });\n};\n\nvar handleCartRefresh = function handleCartRefresh() {\n    return window.location.reload();\n};\n\nvar trackAddToCart = function trackAddToCart(handle, id, value, source) {\n    if (window.ga) {\n        window.ga('send', 'event', {\n            eventCategory: 'Add to cart',\n            eventAction: source,\n            eventLabel: handle\n        });\n    }\n\n    if (window.fbq) {\n        window.fbq('track', 'AddToCart', {\n            content_ids: [parseInt(id)],\n            content_type: 'product',\n            currency: 'GBP',\n            value: parseInt(value) / 100\n        });\n    }\n};\n\nvar getCart = function getCart() {\n    return shopifyRequest('/cart.js');\n};\n\nvar updateCartSummary = function updateCartSummary(data) {\n    var $cartCount = els.$cartCount,\n        $cartTotal = els.$cartTotal,\n        $cartDiscountTotal = els.$cartDiscountTotal,\n        $cartDiscountTotalContainer = els.$cartDiscountTotalContainer;\n\n\n    if ($cartCount) {\n        [].concat(_toConsumableArray($cartCount)).map(function ($count) {\n            return $count.innerText = data.item_count;\n        });\n    }\n\n    if ($cartTotal && data.total_price) {\n        [].concat(_toConsumableArray($cartTotal)).map(function ($el) {\n            return $el.innerText = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_9__[\"getPrice\"])(data.total_price);\n        });\n    }\n\n    if ($cartDiscountTotal && $cartDiscountTotalContainer) {\n        if (data.total_discount > 0) {\n            [].concat(_toConsumableArray($cartDiscountTotalContainer)).map(function ($el) {\n                return $el.style.display = 'block';\n            });\n            [].concat(_toConsumableArray($cartDiscountTotal)).map(function ($el) {\n                return $el.innerText = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_9__[\"getPrice\"])(data.total_discount);\n            });\n        } else {\n            [].concat(_toConsumableArray($cartDiscountTotalContainer)).map(function ($el) {\n                return $el.style.display = 'none';\n            });\n        }\n    }\n};\n\nvar getSmallImage = function getSmallImage(url) {\n    var image = void 0;\n\n    image = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(url, '.jpg', '_small.jpg');\n    image = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(url, '.jpeg', '_small.jpeg');\n    image = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(url, '.png', '_small.png');\n    image = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(url, '.gif', '_small.gif');\n\n    return image;\n};\n\nvar getItemTitle = function getItemTitle(title, quantity) {\n    var newTitle = quantity > 1 ? title + ' <span class=\"u-font-size-14\">(x' + quantity + ')</span>' : title;\n\n    return newTitle;\n};\n\nvar getItemURL = function getItemURL(handle) {\n    return '/products/' + handle;\n};\n\nvar getItemDiscountLabels = function getItemDiscountLabels(discounts) {\n    return discounts.map(function (discount) {\n        return '<span class=\"u-label\">' + discount.title + '</span>';\n    }).join(', ');\n};\n\nvar getItemDiscountsTotal = function getItemDiscountsTotal(discounts) {\n    return discounts.map(function (discount) {\n        return discount.amount;\n    }).reduce(function (prev, cur) {\n        return prev + cur;\n    }, 0);\n};\n\nvar getItemDiscountPrice = function getItemDiscountPrice(discounts) {\n    var totalDiscounts = getItemDiscountsTotal(discounts);\n\n    return totalDiscounts > 0 ? Object(_services_helpers__WEBPACK_IMPORTED_MODULE_9__[\"getPrice\"])(totalDiscounts) : '';\n};\n\nvar isItemFree = function isItemFree(originalPrice, discountPrice) {\n    return originalPrice === discountPrice;\n};\n\nvar getItemPrice = function getItemPrice(item) {\n    var totalDiscounts = getItemDiscountsTotal(item.discounts);\n\n    if (totalDiscounts > 0) {\n        if (isItemFree(totalDiscounts, item.original_line_price)) {\n            return 'FREE';\n        } else {\n            return Object(_services_helpers__WEBPACK_IMPORTED_MODULE_9__[\"getPrice\"])(item.original_line_price - totalDiscounts);\n        }\n    }\n\n    return Object(_services_helpers__WEBPACK_IMPORTED_MODULE_9__[\"getPrice\"])(item.line_price);\n};\n\nvar updateCartSummaryModalItems = function updateCartSummaryModalItems(items) {\n    var $cartSummaryModalItems = els.$cartSummaryModalItems;\n\n\n    if ($cartSummaryModalItems) {\n        var itemsHTML = items.map(function (item) {\n            var html = void 0;\n\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(cartSummaryModalItemTemplate, '[CART_ITEM_TYPE]', item.product_type);\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(html, '[CART_ITEM_URL]', getItemURL(item.handle));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(html, '[CART_ITEM_URL_2]', getItemURL(item.handle));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(html, '[CART_ITEM_PRICE]', getItemPrice(item));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(html, '[CART_ITEM_TITLE]', getItemTitle(item.title, item.quantity));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(html, '[CART_ITEM_IMAGE]', getSmallImage(item.image));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(html, '[CART_ITEM_DISCOUNT_LABEL]', getItemDiscountLabels(item.discounts));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_7___default()(html, '[CART_ITEM_DISCOUNT_PRICE]', '<span class=\"u-color-grey u-strike\">' + getItemDiscountPrice(item.discounts) + '</span>&nbsp;');\n\n            return html;\n        }).join('');\n\n        $cartSummaryModalItems.innerHTML = itemsHTML;\n    }\n};\n\nvar showCartSummaryModal = function showCartSummaryModal(data) {\n    if (els.$cartSummaryModalTrigger) {\n        updateCartSummaryModalItems(data.items);\n        Object(_services_helpers__WEBPACK_IMPORTED_MODULE_9__[\"triggerMouseEvent\"])(els.$cartSummaryModalTrigger);\n    }\n};\n\nvar addToCart = function addToCart(id) {\n    var quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var properties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (els.$cartCount) {\n        var newCount = parseInt(els.$cartCount[0].innerText) + quantity;\n\n        updateCartSummary({ item_count: newCount });\n    }\n\n    return shopifyRequest('/cart/add.js', { id: id, quantity: quantity, properties: properties });\n};\n\nvar updateCartProduct = function updateCartProduct(products) {\n    return shopifyRequest('/cart/update.js', {\n        updates: lodash_fromPairs__WEBPACK_IMPORTED_MODULE_4___default()(products)\n    });\n};\n\nvar hideItemInCart = function hideItemInCart($element) {\n    return new Promise(function (resolve) {\n        animejs__WEBPACK_IMPORTED_MODULE_1___default()({\n            begin: function begin() {\n                $element.style.overflow = 'hidden';\n            },\n            complete: function complete() {\n                $element.remove();\n                resolve();\n            },\n\n            duration: _config__WEBPACK_IMPORTED_MODULE_10__[\"ANIMATION_DURATION\"],\n            easing: 'easeOutExpo',\n            height: 0,\n            opacity: [1, 0],\n            targets: $element\n        });\n    });\n};\n\nvar showEmptyState = function showEmptyState() {\n    var $cartEmptyMessage = els.$cartEmptyMessage,\n        $cartForm = els.$cartForm;\n\n\n    if ($cartEmptyMessage && $cartForm) {\n        animejs__WEBPACK_IMPORTED_MODULE_1___default()({\n            complete: function complete() {\n                animejs__WEBPACK_IMPORTED_MODULE_1___default()({\n                    begin: function begin() {\n                        $cartEmptyMessage.style.display = 'block';\n                    },\n\n                    duration: _config__WEBPACK_IMPORTED_MODULE_10__[\"ANIMATION_DURATION\"],\n                    easing: 'easeOutExpo',\n                    opacity: [0, 1],\n                    targets: els.$cartEmptyMessage\n                });\n            },\n\n            duration: _config__WEBPACK_IMPORTED_MODULE_10__[\"ANIMATION_DURATION\"] * 2,\n            easing: 'easeOutExpo',\n            height: 0,\n            opacity: 0,\n            targets: els.$cartForm\n        });\n    }\n};\n\nvar removeItem = function removeItem(variantId, $targetItem) {\n    updateCartProduct([[variantId, 0]]).then(function (response) {\n        if (REFRESH_ON_CHANGE) {\n            handleCartRefresh();\n        } else {\n            var cartIsEmpty = lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()(response.item_count, 0);\n\n            if (cartIsEmpty) {\n                updateCartSummary(response);\n                showEmptyState();\n            } else {\n                updateCartSummary(response);\n                updateItemPrices(response);\n                updateItemDiscounts(response);\n                hideItemInCart($targetItem).then(function () {\n                    updateCartHeadings();\n\n                    if (cartIsEmpty) {\n                        showEmptyState();\n                    }\n                });\n            }\n        }\n    }).catch(console.trace);\n};\n\nvar removeBundleItem = function removeBundleItem(variantId, variantIds) {\n    return new Promise(function (resolve, reject) {\n        var line = void 0;\n\n        cart.items.map(function (item, index) {\n            var isVariantMatch = lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()(item.variant_id, parseInt(variantId));\n            var isBundleMatch = lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()(lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(item, 'properties.SSPBundleIds'), variantIds);\n\n            if (isVariantMatch && isBundleMatch) {\n                line = index + 1;\n            }\n        });\n\n        if (typeof line !== 'undefined') {\n            shopifyRequest('/cart/change.js', {\n                line: line,\n                quantity: 0\n            }).then(function (response) {\n                cart = response;\n                window.globalData.cart = response;\n\n                resolve();\n            });\n        } else {\n            reject('Could not find both bundle items');\n        }\n    });\n};\n\nvar handleRemoveBundleItems = function handleRemoveBundleItems(event) {\n    event.preventDefault();\n\n    var $target = event.target;\n\n    if ($target) {\n        var SSPBundleIdsCombined = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()($target, 'dataset.bundleIds', '');\n        var SSPBundleIds = SSPBundleIdsCombined.split('|').filter(function (i) {\n            return i !== '|';\n        });\n\n        removeBundleItem(SSPBundleIds[0], SSPBundleIdsCombined).then(function () {\n            return removeBundleItem(SSPBundleIds[1], SSPBundleIdsCombined);\n        }).then(handleCartRefresh).catch(function (e) {\n            return alert('Sorry, there was an error removing the products. Please try again.');\n        });\n    }\n};\n\n/**\n * TODO: Handle these if/els better...\n * This function is not currently used, but could do with cleaning up if was to be...\n */\nvar handleRemoveItem = function handleRemoveItem(event) {\n    event.preventDefault();\n\n    var $target = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_9__[\"intendedTargetElement\"])('js-remove', event.target);\n\n    if ($target) {\n        var variantId = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()($target, 'dataset.variantId');\n\n        if (variantId) {\n            var $targetItem = document.querySelector('.js-cart-item[data-variant-id=\"' + variantId + '\"]');\n\n            if ($targetItem) {\n                /**\n                 * We should only show the SSP warning when removing a product would result in the SSP product\n                 * being left without a matched Permanent product.\n                 */\n                if ($target.dataset.title.includes('Permanent Colour')) {\n                    var properties = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()($target, 'dataset.properties', []);\n\n                    /**\n                     * If there is properties for this item, parse the data to something we can work with\n                     */\n                    if (properties) {\n                        properties = lodash_fromPairs__WEBPACK_IMPORTED_MODULE_4___default()(JSON.parse(properties));\n                    }\n\n                    /**\n                     * If there are properties, see if we need to validate against them\n                     */\n                    if (!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_5___default()(properties)) {\n                        var SSPBundleIdsProp = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(properties, 'SSPBundleIds', '');\n                        var SSPBundleIds = SSPBundleIdsProp.split('|').filter(function (i) {\n                            return i !== '|';\n                        });\n\n                        /**\n                         * Shade Shot Plus 'bundles' require different validation from the standard confirmation dialog\n                         */\n                        if (SSPBundleIds.length >= 1) {\n                            /**\n                             * If there are more than 1 of a product which is used in a 'bundle', sometimes the 'other'\n                             * product is deleted instead of the 'bundle' product. This means that if the 'other'\n                             * Let's check if the correct amount of bundle products exist first.\n                             */\n                            var $bundleProducts = document.querySelectorAll('.js-remove[data-properties*=\"' + SSPBundleIdsProp + '\"]');\n\n                            if ($bundleProducts.length >= 2 && els.$cartBundleRemoveCTA) {\n                                els.$cartBundleRemoveCTA.setAttribute('data-bundle-ids', SSPBundleIdsProp);\n\n                                Object(_modal__WEBPACK_IMPORTED_MODULE_8__[\"setActiveModal\"])('ssp-bundle-warning');\n                                Object(_modal__WEBPACK_IMPORTED_MODULE_8__[\"openModal\"])(true);\n\n                                return;\n                            }\n                        }\n                    }\n                }\n\n                if (confirm('Are you sure you want to remove this item?')) {\n                    return removeItem(variantId, $targetItem);\n                }\n            }\n        }\n    }\n};\n\nvar handleFormSubmit = function handleFormSubmit(event) {\n    var submittedByButton = document.activeElement && document.activeElement.classList.contains('js-cart-submit');\n\n    if (!submittedByButton) {\n        // event.preventDefault();\n    }\n};\n\nvar updateItemDiscounts = function updateItemDiscounts(data) {\n    if (data.items.length) {\n        data.items.map(function (item) {\n            var $discount = document.querySelector('.js-discounts-' + item.id);\n\n            if ($discount) {\n                $discount.innerHTML = getItemDiscountLabels(item.discounts);\n            }\n        });\n    }\n};\n\nvar updateItemPrices = function updateItemPrices(data) {\n    if (data.items.length) {\n        data.items.map(function (item) {\n            var $price = document.querySelector('.js-price-' + item.id);\n\n            if ($price) {\n                $price.innerText = getItemPrice(item);\n            }\n        });\n    }\n};\n\nvar handleQuantityChange = function handleQuantityChange(event) {\n    event.preventDefault();\n\n    var $target = event.target;\n\n    if ($target) {\n        var variantId = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()($target, 'dataset.variantId');\n        var newQuantity = parseInt($target.value);\n\n        updateCartProduct([[variantId, newQuantity]]).then(function (response) {\n            if (REFRESH_ON_CHANGE) {\n                handleCartRefresh();\n            } else {\n                updateCartSummary(response);\n                updateItemPrices(response);\n                updateItemDiscounts(response);\n            }\n        }).catch(console.trace);\n    }\n};\n\nvar updateCartHeadings = function updateCartHeadings() {\n    if (els.$cartCollections) {\n        [].concat(_toConsumableArray(els.$cartCollections)).map(function ($collection) {\n            var $heading = $collection.querySelector('.js-heading');\n\n            if ($heading) {\n                var $items = $collection.querySelectorAll('.js-cart-item');\n                var isVisible = $heading && $items.length > 0;\n\n                $heading.classList.toggle('u-hide', !isVisible);\n                $heading.classList.toggle('u-fade-in', isVisible);\n            }\n        });\n    }\n};\n\nvar setCartModalItemTemplate = function setCartModalItemTemplate() {\n    if (els.$cartSummaryModalItemTemplate) {\n        cartSummaryModalItemTemplate = els.$cartSummaryModalItemTemplate.innerText;\n    }\n};\n\nvar cache = function cache() {\n    els.$cartBundleRemoveCTA = document.querySelector('.js-ssp-removal-remove');\n    els.$cartCollections = document.querySelectorAll('.js-cart-collection');\n    els.$cartCount = document.querySelectorAll('.js-cart-count');\n    els.$cartDiscountTotal = document.querySelectorAll('.js-cart-discount-total');\n    els.$cartDiscountTotalContainer = document.querySelectorAll('.js-cart-discount-total-container');\n    els.$cartEmptyMessage = document.querySelector('.js-cart-empty-message');\n    els.$cartForm = document.querySelector('.js-cart-form');\n    els.$cartRemoveItems = document.querySelectorAll('.js-remove');\n    els.$cartSummary = document.querySelector('.js-cart-summary');\n    els.$cartSummaryModalItems = document.querySelector('.js-cart-summary-modal-items');\n    els.$cartSummaryModalTrigger = document.querySelector('.js-modal-open[data-modal=\"cart-summary\"]');\n    els.$cartSummaryModalItemTemplate = document.querySelector('[data-cart-summary-template]');\n    els.$cartTotal = document.querySelectorAll('.js-cart-total');\n    els.$itemQuantities = document.querySelectorAll('.js-item-quantity');\n};\n\nvar events = function events() {\n    if (els.$cartForm) {\n        els.$cartForm.addEventListener('submit', handleFormSubmit, false);\n    }\n\n    if (els.$cartRemoveItems) {\n        [].concat(_toConsumableArray(els.$cartRemoveItems)).map(function ($item) {\n            return $item.addEventListener('click', handleRemoveItem, false);\n        });\n    }\n\n    if (els.$itemQuantities) {\n        [].concat(_toConsumableArray(els.$itemQuantities)).map(function ($item) {\n            return $item.addEventListener('change', handleQuantityChange, false);\n        });\n    }\n\n    if (els.$cartBundleRemoveCTA) {\n        els.$cartBundleRemoveCTA.addEventListener('click', handleRemoveBundleItems, false);\n    }\n};\n\nvar init = function init() {\n    cache();\n    events();\n    updateCartHeadings();\n    setCartModalItemTemplate();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ init: init });\n\n//# sourceURL=webpack:///./src/js/components/cart.js?");
=======
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trackAddToCart\", function() { return trackAddToCart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCart\", function() { return getCart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateCartSummary\", function() { return updateCartSummary; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showCartSummaryModal\", function() { return showCartSummaryModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addToCart\", function() { return addToCart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateCartProduct\", function() { return updateCartProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! animejs */ \"./node_modules/animejs/anime.min.js\");\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(animejs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/eq */ \"./node_modules/lodash/eq.js\");\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_eq__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/get */ \"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/fromPairs */ \"./node_modules/lodash/fromPairs.js\");\n/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_fromPairs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/isEmpty */ \"./node_modules/lodash/isEmpty.js\");\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/map */ \"./node_modules/lodash/map.js\");\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var lodash_replace__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/replace */ \"./node_modules/lodash/replace.js\");\n/* harmony import */ var lodash_replace__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_replace__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modal */ \"./src/js/components/modal.js\");\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../services/helpers */ \"./src/js/services/helpers.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../config */ \"./src/js/config.js\");\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar els = {};\n\nvar REFRESH_ON_CHANGE = true;\n\nvar cart = lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(window, 'globalData.cart');\nvar cartLocked = false;\nvar cartSummaryModalItemTemplate = void 0;\n\nvar lockCart = function lockCart() {\n    return cartLocked = true;\n};\nvar unlockCart = function unlockCart() {\n    return cartLocked = false;\n};\n\nvar shopifyRequest = function shopifyRequest(url, data) {\n    return new Promise(function (resolve, reject) {\n        if (!cartLocked) {\n            lockCart();\n\n            fetch(url, Object(_services_helpers__WEBPACK_IMPORTED_MODULE_10__[\"getFetchParams\"])(data)).then(function (response) {\n                return response.json();\n            }).then(function (response) {\n                unlockCart();\n                resolve(response);\n            }).catch(function (error) {\n                unlockCart();\n                reject(error);\n            });\n        }\n    });\n};\n\nvar handleCartRefresh = function handleCartRefresh() {\n    return window.location.reload();\n};\n\nvar trackAddToCart = function trackAddToCart(handle, id, value, source) {\n    if (window.ga) {\n        window.ga('send', 'event', {\n            eventCategory: 'Add to cart',\n            eventAction: source,\n            eventLabel: handle\n        });\n    }\n\n    if (window.fbq) {\n        window.fbq('track', 'AddToCart', {\n            content_ids: [parseInt(id)],\n            content_type: 'product',\n            currency: 'GBP',\n            value: parseInt(value) / 100\n        });\n    }\n};\n\nvar getCart = function getCart() {\n    return shopifyRequest('/cart.js');\n};\n\nvar updateCartSummary = function updateCartSummary(data) {\n    var $cartCount = els.$cartCount,\n        $cartTotal = els.$cartTotal,\n        $cartDiscountTotal = els.$cartDiscountTotal,\n        $cartDiscountTotalContainer = els.$cartDiscountTotalContainer;\n\n\n    if ($cartCount) {\n        [].concat(_toConsumableArray($cartCount)).map(function ($count) {\n            return $count.innerText = data.item_count;\n        });\n    }\n\n    if ($cartTotal && data.total_price) {\n        [].concat(_toConsumableArray($cartTotal)).map(function ($el) {\n            return $el.innerText = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_10__[\"getPrice\"])(data.total_price);\n        });\n    }\n\n    if ($cartDiscountTotal && $cartDiscountTotalContainer) {\n        if (data.total_discount > 0) {\n            [].concat(_toConsumableArray($cartDiscountTotalContainer)).map(function ($el) {\n                return $el.style.display = 'block';\n            });\n            [].concat(_toConsumableArray($cartDiscountTotal)).map(function ($el) {\n                return $el.innerText = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_10__[\"getPrice\"])(data.total_discount);\n            });\n        } else {\n            [].concat(_toConsumableArray($cartDiscountTotalContainer)).map(function ($el) {\n                return $el.style.display = 'none';\n            });\n        }\n    }\n};\n\nvar getSmallImage = function getSmallImage(url) {\n    var image = void 0;\n\n    image = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(url, '.jpg', '_small.jpg');\n    image = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(url, '.jpeg', '_small.jpeg');\n    image = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(url, '.png', '_small.png');\n    image = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(url, '.gif', '_small.gif');\n\n    return image;\n};\n\nvar getItemTitle = function getItemTitle(title, quantity) {\n    var newTitle = quantity > 1 ? title + ' <span class=\"u-font-size-14\">(x' + quantity + ')</span>' : title;\n\n    return newTitle;\n};\n\nvar getItemURL = function getItemURL(handle) {\n    return '/products/' + handle;\n};\n\nvar getItemDiscountLabels = function getItemDiscountLabels(discounts) {\n    return discounts.map(function (discount) {\n        return '<span class=\"u-label\">' + discount.title + '</span>';\n    }).join(', ');\n};\n\nvar getItemDiscountsTotal = function getItemDiscountsTotal(discounts) {\n    return discounts.map(function (discount) {\n        return discount.amount;\n    }).reduce(function (prev, cur) {\n        return prev + cur;\n    }, 0);\n};\n\nvar getItemDiscountPrice = function getItemDiscountPrice(discounts) {\n    var totalDiscounts = getItemDiscountsTotal(discounts);\n\n    return totalDiscounts > 0 ? Object(_services_helpers__WEBPACK_IMPORTED_MODULE_10__[\"getPrice\"])(totalDiscounts) : '';\n};\n\nvar isItemFree = function isItemFree(originalPrice, discountPrice) {\n    return originalPrice === discountPrice;\n};\n\nvar getItemPrice = function getItemPrice(item) {\n    var totalDiscounts = getItemDiscountsTotal(item.discounts);\n\n    if (totalDiscounts > 0) {\n        if (isItemFree(totalDiscounts, item.original_line_price)) {\n            return 'FREE';\n        } else {\n            return Object(_services_helpers__WEBPACK_IMPORTED_MODULE_10__[\"getPrice\"])(item.original_line_price - totalDiscounts);\n        }\n    }\n\n    return Object(_services_helpers__WEBPACK_IMPORTED_MODULE_10__[\"getPrice\"])(item.line_price);\n};\n\nvar updateCartSummaryModalItems = function updateCartSummaryModalItems(items) {\n    var $cartSummaryModalItems = els.$cartSummaryModalItems;\n\n\n    if ($cartSummaryModalItems) {\n        var itemsHTML = items.map(function (item) {\n            var html = void 0;\n\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(cartSummaryModalItemTemplate, '[CART_ITEM_TYPE]', item.product_type);\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(html, '[CART_ITEM_URL]', getItemURL(item.handle));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(html, '[CART_ITEM_URL_2]', getItemURL(item.handle));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(html, '[CART_ITEM_PRICE]', getItemPrice(item));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(html, '[CART_ITEM_TITLE]', getItemTitle(item.title, item.quantity));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(html, '[CART_ITEM_IMAGE]', getSmallImage(item.image));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(html, '[CART_ITEM_DISCOUNT_LABEL]', getItemDiscountLabels(item.discounts));\n            html = lodash_replace__WEBPACK_IMPORTED_MODULE_8___default()(html, '[CART_ITEM_DISCOUNT_PRICE]', '<span class=\"u-color-grey u-strike\">' + getItemDiscountPrice(item.discounts) + '</span>&nbsp;');\n\n            return html;\n        }).join('');\n\n        $cartSummaryModalItems.innerHTML = itemsHTML;\n    }\n};\n\nvar showCartSummaryModal = function showCartSummaryModal(data) {\n    if (els.$cartSummaryModalTrigger) {\n        updateCartSummaryModalItems(data.items);\n        Object(_services_helpers__WEBPACK_IMPORTED_MODULE_10__[\"triggerMouseEvent\"])(els.$cartSummaryModalTrigger);\n    }\n};\n\nvar addToCart = function addToCart(id) {\n    var quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var properties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (els.$cartCount) {\n        var newCount = parseInt(els.$cartCount[0].innerText) + quantity;\n\n        updateCartSummary({ item_count: newCount });\n    }\n\n    return shopifyRequest('/cart/add.js', { id: id, quantity: quantity, properties: properties });\n};\n\nvar updateCartProduct = function updateCartProduct(products) {\n    return shopifyRequest('/cart/update.js', {\n        updates: lodash_fromPairs__WEBPACK_IMPORTED_MODULE_5___default()(products)\n    });\n};\n\nvar hideItemInCart = function hideItemInCart($element) {\n    return new Promise(function (resolve) {\n        animejs__WEBPACK_IMPORTED_MODULE_2___default()({\n            begin: function begin() {\n                $element.style.overflow = 'hidden';\n            },\n            complete: function complete() {\n                $element.remove();\n                resolve();\n            },\n\n            duration: _config__WEBPACK_IMPORTED_MODULE_11__[\"ANIMATION_DURATION\"],\n            easing: 'easeOutExpo',\n            height: 0,\n            opacity: [1, 0],\n            targets: $element\n        });\n    });\n};\n\nvar showEmptyState = function showEmptyState() {\n    var $cartEmptyMessage = els.$cartEmptyMessage,\n        $cartForm = els.$cartForm;\n\n\n    if ($cartEmptyMessage && $cartForm) {\n        animejs__WEBPACK_IMPORTED_MODULE_2___default()({\n            complete: function complete() {\n                animejs__WEBPACK_IMPORTED_MODULE_2___default()({\n                    begin: function begin() {\n                        $cartEmptyMessage.style.display = 'block';\n                    },\n\n                    duration: _config__WEBPACK_IMPORTED_MODULE_11__[\"ANIMATION_DURATION\"],\n                    easing: 'easeOutExpo',\n                    opacity: [0, 1],\n                    targets: els.$cartEmptyMessage\n                });\n            },\n\n            duration: _config__WEBPACK_IMPORTED_MODULE_11__[\"ANIMATION_DURATION\"] * 2,\n            easing: 'easeOutExpo',\n            height: 0,\n            opacity: 0,\n            targets: els.$cartForm\n        });\n    }\n};\n\nvar removeItem = function removeItem(variantId, $targetItem) {\n    updateCartProduct([[variantId, 0]]).then(function (response) {\n        if (REFRESH_ON_CHANGE) {\n            handleCartRefresh();\n        } else {\n            var cartIsEmpty = lodash_eq__WEBPACK_IMPORTED_MODULE_3___default()(response.item_count, 0);\n\n            if (cartIsEmpty) {\n                updateCartSummary(response);\n                showEmptyState();\n            } else {\n                updateCartSummary(response);\n                updateItemPrices(response);\n                updateItemDiscounts(response);\n                hideItemInCart($targetItem).then(function () {\n                    updateCartHeadings();\n\n                    if (cartIsEmpty) {\n                        showEmptyState();\n                    }\n                });\n            }\n        }\n    }).catch(console.trace);\n};\n\nvar removeBundleItem = function removeBundleItem(variantId, variantIds) {\n    return new Promise(function (resolve, reject) {\n        var line = void 0;\n\n        cart.items.map(function (item, index) {\n            var isVariantMatch = lodash_eq__WEBPACK_IMPORTED_MODULE_3___default()(item.variant_id, parseInt(variantId));\n            var isBundleMatch = lodash_eq__WEBPACK_IMPORTED_MODULE_3___default()(lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(item, 'properties.SSPBundleIds'), variantIds);\n\n            if (isVariantMatch && isBundleMatch) {\n                line = index + 1;\n            }\n        });\n\n        if (typeof line !== 'undefined') {\n            shopifyRequest('/cart/change.js', {\n                line: line,\n                quantity: 0\n            }).then(function (response) {\n                cart = response;\n                window.globalData.cart = response;\n\n                resolve();\n            });\n        } else {\n            reject('Could not find both bundle items');\n        }\n    });\n};\n\nvar handleRemoveBundleItems = function handleRemoveBundleItems(event) {\n    event.preventDefault();\n\n    var $target = event.target;\n\n    if ($target) {\n        var SSPBundleIdsCombined = lodash_get__WEBPACK_IMPORTED_MODULE_4___default()($target, 'dataset.bundleIds', '');\n        var SSPBundleIds = SSPBundleIdsCombined.split('|').filter(function (i) {\n            return i !== '|';\n        });\n\n        removeBundleItem(SSPBundleIds[0], SSPBundleIdsCombined).then(function () {\n            return removeBundleItem(SSPBundleIds[1], SSPBundleIdsCombined);\n        }).then(handleCartRefresh).catch(function (e) {\n            return alert('Sorry, there was an error removing the products. Please try again.');\n        });\n    }\n};\n\n/**\n * TODO: Handle these if/els better...\n * This function is not currently used, but could do with cleaning up if was to be...\n */\nvar handleRemoveItem = function handleRemoveItem(event) {\n    event.preventDefault();\n\n    var $target = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_10__[\"intendedTargetElement\"])('js-remove', event.target);\n\n    if ($target) {\n        var variantId = lodash_get__WEBPACK_IMPORTED_MODULE_4___default()($target, 'dataset.variantId');\n\n        if (variantId) {\n            var $targetItem = document.querySelector('.js-cart-item[data-variant-id=\"' + variantId + '\"]');\n\n            if ($targetItem) {\n                /**\n                 * We should only show the SSP warning when removing a product would result in the SSP product\n                 * being left without a matched Permanent product.\n                 */\n                if ($target.dataset.title.includes('Permanent Colour')) {\n                    var properties = lodash_get__WEBPACK_IMPORTED_MODULE_4___default()($target, 'dataset.properties', []);\n\n                    /**\n                     * If there is properties for this item, parse the data to something we can work with\n                     */\n                    if (properties) {\n                        properties = lodash_fromPairs__WEBPACK_IMPORTED_MODULE_5___default()(JSON.parse(properties));\n                    }\n\n                    /**\n                     * If there are properties, see if we need to validate against them\n                     */\n                    if (!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6___default()(properties)) {\n                        var SSPBundleIdsProp = lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(properties, 'SSPBundleIds', '');\n                        var SSPBundleIds = SSPBundleIdsProp.split('|').filter(function (i) {\n                            return i !== '|';\n                        });\n\n                        /**\n                         * Shade Shot Plus 'bundles' require different validation from the standard confirmation dialog\n                         */\n                        if (SSPBundleIds.length >= 1) {\n                            /**\n                             * If there are more than 1 of a product which is used in a 'bundle', sometimes the 'other'\n                             * product is deleted instead of the 'bundle' product. This means that if the 'other'\n                             * Let's check if the correct amount of bundle products exist first.\n                             */\n                            var $bundleProducts = document.querySelectorAll('.js-remove[data-properties*=\"' + SSPBundleIdsProp + '\"]');\n\n                            if ($bundleProducts.length >= 2 && els.$cartBundleRemoveCTA) {\n                                els.$cartBundleRemoveCTA.setAttribute('data-bundle-ids', SSPBundleIdsProp);\n\n                                Object(_modal__WEBPACK_IMPORTED_MODULE_9__[\"setActiveModal\"])('ssp-bundle-warning');\n                                Object(_modal__WEBPACK_IMPORTED_MODULE_9__[\"openModal\"])(true);\n\n                                return;\n                            }\n                        }\n                    }\n                }\n\n                if (confirm('Are you sure you want to remove this item?')) {\n                    return removeItem(variantId, $targetItem);\n                }\n            }\n        }\n    }\n};\n\nvar handleFormSubmit = function handleFormSubmit(event) {\n    var submittedByButton = document.activeElement && document.activeElement.classList.contains('js-cart-submit');\n\n    if (!submittedByButton) {\n        // event.preventDefault();\n    }\n};\n\nvar updateItemDiscounts = function updateItemDiscounts(data) {\n    if (data.items.length) {\n        data.items.map(function (item) {\n            var $discount = document.querySelector('.js-discounts-' + item.id);\n\n            if ($discount) {\n                $discount.innerHTML = getItemDiscountLabels(item.discounts);\n            }\n        });\n    }\n};\n\nvar updateItemPrices = function updateItemPrices(data) {\n    if (data.items.length) {\n        data.items.map(function (item) {\n            var $price = document.querySelector('.js-price-' + item.id);\n\n            if ($price) {\n                $price.innerText = getItemPrice(item);\n            }\n        });\n    }\n};\n\nvar handleQuantityChange = function handleQuantityChange(event) {\n    event.preventDefault();\n\n    var $target = event.target;\n\n    if ($target) {\n        var variantId = lodash_get__WEBPACK_IMPORTED_MODULE_4___default()($target, 'dataset.variantId');\n        var newQuantity = parseInt($target.value);\n\n        updateCartProduct([[variantId, newQuantity]]).then(function (response) {\n            if (REFRESH_ON_CHANGE) {\n                handleCartRefresh();\n            } else {\n                updateCartSummary(response);\n                updateItemPrices(response);\n                updateItemDiscounts(response);\n            }\n        }).catch(console.trace);\n    }\n};\n\nvar updateCartHeadings = function updateCartHeadings() {\n    if (els.$cartCollections) {\n        [].concat(_toConsumableArray(els.$cartCollections)).map(function ($collection) {\n            var $heading = $collection.querySelector('.js-heading');\n\n            if ($heading) {\n                var $items = $collection.querySelectorAll('.js-cart-item');\n                var isVisible = $heading && $items.length > 0;\n\n                $heading.classList.toggle('u-hide', !isVisible);\n                $heading.classList.toggle('u-fade-in', isVisible);\n            }\n        });\n    }\n};\n\nvar setCartModalItemTemplate = function setCartModalItemTemplate() {\n    if (els.$cartSummaryModalItemTemplate) {\n        cartSummaryModalItemTemplate = els.$cartSummaryModalItemTemplate.innerText;\n    }\n};\n\nvar cache = function cache() {\n    els.$cartBundleRemoveCTA = document.querySelector('.js-ssp-removal-remove');\n    els.$cartCollections = document.querySelectorAll('.js-cart-collection');\n    els.$cartCount = document.querySelectorAll('.js-cart-count');\n    els.$cartDiscountTotal = document.querySelectorAll('.js-cart-discount-total');\n    els.$cartDiscountTotalContainer = document.querySelectorAll('.js-cart-discount-total-container');\n    els.$cartEmptyMessage = document.querySelector('.js-cart-empty-message');\n    els.$cartForm = document.querySelector('.js-cart-form');\n    els.$cartRemoveItems = document.querySelectorAll('.js-remove');\n    els.$cartSummary = document.querySelector('.js-cart-summary');\n    els.$cartSummaryModalItems = document.querySelector('.js-cart-summary-modal-items');\n    els.$cartSummaryModalTrigger = document.querySelector('.js-modal-open[data-modal=\"cart-summary\"]');\n    els.$cartSummaryModalItemTemplate = document.querySelector('[data-cart-summary-template]');\n    els.$cartTotal = document.querySelectorAll('.js-cart-total');\n    els.$itemQuantities = document.querySelectorAll('.js-item-quantity');\n};\n\nvar events = function events() {\n    if (els.$cartForm) {\n        els.$cartForm.addEventListener('submit', handleFormSubmit, false);\n    }\n\n    if (els.$cartRemoveItems) {\n        [].concat(_toConsumableArray(els.$cartRemoveItems)).map(function ($item) {\n            return $item.addEventListener('click', handleRemoveItem, false);\n        });\n    }\n\n    if (els.$itemQuantities) {\n        [].concat(_toConsumableArray(els.$itemQuantities)).map(function ($item) {\n            return $item.addEventListener('change', handleQuantityChange, false);\n        });\n    }\n\n    if (els.$cartBundleRemoveCTA) {\n        els.$cartBundleRemoveCTA.addEventListener('click', handleRemoveBundleItems, false);\n    }\n};\n\nvar init = function init() {\n    cache();\n    events();\n    updateCartHeadings();\n    setCartModalItemTemplate();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ init: init });\n\n//# sourceURL=webpack:///./src/js/components/cart.js?");
>>>>>>> consultation-master

/***/ }),

/***/ "./src/js/components/consultation-reasons.js":
/*!***************************************************!*\
  !*** ./src/js/components/consultation-reasons.js ***!
  \***************************************************/
/*! exports provided: permanentReasons, concealerReasons, careReasons */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"permanentReasons\", function() { return permanentReasons; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"concealerReasons\", function() { return concealerReasons; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"careReasons\", function() { return careReasons; });\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/eq */ \"./node_modules/lodash/eq.js\");\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_eq__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/find */ \"./node_modules/lodash/find.js\");\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/includes */ \"./node_modules/lodash/includes.js\");\n/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_lowerCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/lowerCase */ \"./node_modules/lodash/lowerCase.js\");\n/* harmony import */ var lodash_lowerCase__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_lowerCase__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/map */ \"./node_modules/lodash/map.js\");\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/helpers */ \"./src/js/services/helpers.js\");\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\nvar permanentReasons = {\n    highlights: function highlights() {\n        return 'Our permanent colours are designed to provide an all-over tint, so wed always recommend visiting a salon for highlights.';\n    },\n    bleached: function bleached() {\n        return 'We do not have any permanent colours suitable for bleached hair.';\n    },\n    balayage: function balayage() {\n        return \"Our hair colour provides an all over tint and we'd always recommend going to a salon for balayage.\";\n    },\n    unsuitableColour: function unsuitableColour() {\n        return 'We do not have any colours which provide lift, so wed always recommend visiting a salon when your regrowth is significantly darker than the lengths of your hair.';\n    },\n    lowGreysAndNotSure: function lowGreysAndNotSure(greysType, productColour, productShade) {\n        return 'With ' + greysType + ' you don\\u2019t need to worry about permanent colour just yet, but if you\\u2019d like to change the shade of your hair we think you might like the ' + productColour + ' (' + productShade + ').';\n    },\n    lowGreysAndStayTheSameNatural: function lowGreysAndStayTheSameNatural(greysType, productColour, productShade) {\n        return 'With ' + greysType + ' you don\\u2019t need to worry about permanent colour just yet, but if you decide you\\u2019d like to change the shade of your natural hair later down the line we think you might like the ' + productColour + ' (' + productShade + ').';\n    },\n    lowGreysAndStayTheSameNotNatural: function lowGreysAndStayTheSameNotNatural(greysType, productColour, productShade) {\n        return 'With ' + greysType + ' you don\\u2019t need to worry about permanent colour just yet, but if you\\u2019d like to maintain the shade of your hair we think you might like the ' + productColour + ' (' + productShade + ').';\n    },\n    lowGreysAndABitLighter: function lowGreysAndABitLighter(greysType, productColour, productShade) {\n        return 'With ' + greysType + ' you don\\u2019t need to worry about permanent colour just yet, but if you\\u2019d like your hair to be a bit lighter we think you might like the ' + productColour + ' (' + productShade + ').';\n    },\n    lowGreysAndABitDarker: function lowGreysAndABitDarker(greysType, productColour, productShade) {\n        return 'With ' + greysType + ' you don\\u2019t need to worry about permanent colour just yet, but if you\\u2019d like your hair to be a bit darker we think you might like the ' + productColour + ' (' + productShade + ').';\n    },\n    lowGreysAndALotDarker: function lowGreysAndALotDarker(greysType, productColour, productShade) {\n        return 'With ' + greysType + ' you don\\u2019t need to worry about permanent colour just yet, but if you\\u2019d like your hair to be a lot darker we think you might like the ' + productColour + ' (' + productShade + '). If you\\u2019d like to go for something even darker, we\\u2019d always recommend visiting a salon.';\n    },\n    midHighGreysAndNotSure: function midHighGreysAndNotSure(productColour, productShade) {\n        return 'If you\\u2019re not sure which colour to choose for your hair we think you might like the ' + productColour + ' (' + productShade + ').';\n    },\n    midHighGreysAndStayTheSame: function midHighGreysAndStayTheSame(productColour, productShade) {\n        return 'We think you might like the ' + productColour + ' (' + productShade + ') to cover your regrowth.';\n    },\n    midHighGreysAndABitLighter: function midHighGreysAndABitLighter(productColour, productShade) {\n        return 'If you\\u2019d like your hair to be a bit lighter take a look at the ' + productColour + ' (' + productShade + ').';\n    },\n    midHighGreysAndABitDarker: function midHighGreysAndABitDarker(productColour, productShade) {\n        return 'If you\\u2019d like your hair to be a bit darker take a look at the ' + productColour + ' (' + productShade + ').';\n    },\n    midHighGreysAndALotDarker: function midHighGreysAndALotDarker(productColour, productShade) {\n        return 'If you\\u2019d like your hair to be a lot darker take a look at the ' + productColour + ' (' + productShade + '). If you\\u2019d like to go for something even darker, we\\u2019d always recommend visiting a salon.';\n    }\n};\n\nvar combineArrayToCommaSeparatedSentence = function combineArrayToCommaSeparatedSentence(values) {\n    return values.reduce(function (previous, current, index) {\n        return lodash_eq__WEBPACK_IMPORTED_MODULE_0___default()(index, 0) ? current : '' + previous + (lodash_eq__WEBPACK_IMPORTED_MODULE_0___default()(index, values.length - 1) ? ' and our' : ',') + ' ' + current;\n    }, '');\n};\n\nvar concealerReasons = {\n    regrowthTooDark: function regrowthTooDark(products) {\n        var tintedDryShampooProduct = lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(products, function (p) {\n            return p.key.includes('tinted-dry-shampoo');\n        });\n\n        if (tintedDryShampooProduct) {\n            return 'If you want to revive your roots in-between your permanent colour, give the ' + tintedDryShampooProduct.title + ' a go for quick and easy coverage and volume.';\n        }\n\n        return '';\n    },\n    noGreys: function noGreys(products) {\n        var tintedDryShampooProduct = lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(products, function (p) {\n            return p.key.includes('tinted-dry-shampoo');\n        });\n\n        if (tintedDryShampooProduct) {\n            return 'If you want to revive your roots in-between your permanent colour, give the ' + tintedDryShampooProduct.title + ' a go for quick and easy coverage and volume.';\n        }\n\n        return '';\n    },\n    fewGreys: function fewGreys(products) {\n        var tintedDryShampooProduct = lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(products, function (p) {\n            return p.key.includes('tinted-dry-shampoo');\n        });\n        var rootMarkerProduct = lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(products, function (p) {\n            return p.key.includes('root-marker');\n        });\n\n        return [rootMarkerProduct ? 'Cover stray greys on the go with the ' + rootMarkerProduct.title + '.' : '', tintedDryShampooProduct ? 'You can also try the ' + tintedDryShampooProduct.title + ' to add volume and revive your roots in-between your permanent colour.' : ''].join(' ');\n    },\n    someMostAndAllGreys: function someMostAndAllGreys(products) {\n        var blendingBrushProduct = lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(products, function (p) {\n            return p.key.includes('blending-brush');\n        });\n        var rootMarkerProduct = lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(products, function (p) {\n            return p.key.includes('root-marker');\n        });\n        var rootSmudgerProduct = lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(products, function (p) {\n            return p.key.includes('root-smudger');\n        });\n        var tintedDryShampooProduct = lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(products, function (p) {\n            return p.key.includes('tinted-dry-shampoo');\n        });\n\n        return [rootSmudgerProduct ? 'Use the ' + rootSmudgerProduct.title + ' to fully cover heavy regrowth for up to three shampoos.' : '', blendingBrushProduct ? 'Blend in your grey regrowth for up to three shampoos with the ' + blendingBrushProduct.title + '.' : '', tintedDryShampooProduct ? 'Get quick and easy coverage and revive your roots with the ' + tintedDryShampooProduct.title + '.' : '', rootMarkerProduct ? 'Cover stray greys on the go with the ' + rootMarkerProduct.title + '.' : ''].join(' ');\n    }\n};\n\nvar careReasons = {\n    textureAndColour: function textureAndColour(texture, colour) {\n        return 'Our ' + colour + ' care range is designed to maintain your colour, add volume and nourish your hair.';\n    },\n    shadeShot: function shadeShot(productTitle, unwantedTone) {\n        return 'You can also mix our ' + productTitle + ' with the Everything Mask to create a shade-refreshing gloss that\\u2019ll counteract any ' + unwantedTone + ' tones.';\n    },\n    everythingMask: function everythingMask() {\n        return 'Use the Everything Mask as a weekly treatment to lock-in colour, boost shine and deep-condition your hair.';\n    }\n};\n\n//# sourceURL=webpack:///./src/js/components/consultation-reasons.js?");

/***/ }),

/***/ "./src/js/components/consultation-results.js":
/*!***************************************************!*\
  !*** ./src/js/components/consultation-results.js ***!
  \***************************************************/
/*! exports provided: setProducts, formatResults, getPermanentReason, getConcealerReason, getCareReason, setFinalColourDetails, getPermanentRecommendation, getConcealerRecommendation, getCareRecommendation, consultationResults, resetFinalColour, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setProducts\", function() { return setProducts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatResults\", function() { return formatResults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPermanentReason\", function() { return getPermanentReason; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getConcealerReason\", function() { return getConcealerReason; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCareReason\", function() { return getCareReason; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFinalColourDetails\", function() { return setFinalColourDetails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPermanentRecommendation\", function() { return getPermanentRecommendation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getConcealerRecommendation\", function() { return getConcealerRecommendation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCareRecommendation\", function() { return getCareRecommendation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"consultationResults\", function() { return consultationResults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetFinalColour\", function() { return resetFinalColour; });\n/* harmony import */ var lodash_add__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/add */ \"./node_modules/lodash/add.js\");\n/* harmony import */ var lodash_add__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_add__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_clamp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/clamp */ \"./node_modules/lodash/clamp.js\");\n/* harmony import */ var lodash_clamp__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_clamp__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/eq */ \"./node_modules/lodash/eq.js\");\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_eq__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/filter */ \"./node_modules/lodash/filter.js\");\n/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/find */ \"./node_modules/lodash/find.js\");\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/get */ \"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/includes */ \"./node_modules/lodash/includes.js\");\n/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_includes__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash_indexOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/indexOf */ \"./node_modules/lodash/indexOf.js\");\n/* harmony import */ var lodash_indexOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_indexOf__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/keyBy */ \"./node_modules/lodash/keyBy.js\");\n/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/last */ \"./node_modules/lodash/last.js\");\n/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_last__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var lodash_lowerCase__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/lowerCase */ \"./node_modules/lodash/lowerCase.js\");\n/* harmony import */ var lodash_lowerCase__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_lowerCase__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/map */ \"./node_modules/lodash/map.js\");\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var lodash_size__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/size */ \"./node_modules/lodash/size.js\");\n/* harmony import */ var lodash_size__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_size__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var lodash_split__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/split */ \"./node_modules/lodash/split.js\");\n/* harmony import */ var lodash_split__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_split__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var lodash_subtract__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash/subtract */ \"./node_modules/lodash/subtract.js\");\n/* harmony import */ var lodash_subtract__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash_subtract__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var lodash_toLower__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash/toLower */ \"./node_modules/lodash/toLower.js\");\n/* harmony import */ var lodash_toLower__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(lodash_toLower__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./consultation-reasons */ \"./src/js/components/consultation-reasons.js\");\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../services/helpers */ \"./src/js/services/helpers.js\");\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar SHADE_CHANGE_STEP = 1;\n\n/**\n * The products are pulled directly from the shop and stored in a global variable in the liquid template.\n */\nvar careProducts = lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(window, 'globalData.CarerangeProducts', []);\nvar concealerProducts = lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(window, 'globalData.RootconcealersProducts', []);\nvar permanentProducts = lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(window, 'globalData.PermanentcolourProducts', []);\nvar finalColourDetails = null;\n\nvar setProducts = function setProducts(products) {\n    careProducts = products.careProducts;\n    concealerProducts = products.concealerProducts;\n    permanentProducts = products.permanentProducts;\n};\n\nvar mapMatchesToProducts = function mapMatchesToProducts(matches, predicate, products) {\n    /**\n     * Take a collection of products and filter against a predicate based on a user's answers\n     */\n    return lodash_filter__WEBPACK_IMPORTED_MODULE_3___default()(matches, predicate).map(function (match) {\n        var matched = lodash_find__WEBPACK_IMPORTED_MODULE_4___default()(products, function (p) {\n            return p.key.includes(match.key);\n        });\n\n        return matched ? matched : {};\n    }).filter(function (match) {\n        return match;\n    });\n};\n\nvar formatResults = function formatResults(answers) {\n    /**\n     * Give the questions a better name for referencing later...\n     */\n    var questionKeys = {\n        '2': 'hairColourType',\n        '3': 'greyAmount',\n        '4': 'greyAim',\n        '5': 'currentColour',\n        '6': 'currentColourShade',\n        '8': 'colourAmbition',\n        '9': 'toneAmbition',\n        '10': 'careAmbition',\n        '12': 'greyPermAmbition',\n        '13': 'greyPermAmbitionShade'\n    };\n\n    var result = {};\n\n    answers.map(function (answer) {\n        var key = questionKeys[answer.questionId];\n\n        if (key) result[key] = answer.value;\n    });\n\n    /**\n     * If there is no regrowth, set the regrowth as their current colour\n     */\n    if (!result.regrowthColourShade) {\n        result.regrowthColourShade = result.currentColourShade;\n    }\n\n    /**\n     *  Sets colour keys grey colour keys if they've selected >80% greys\n     */\n    if (!result.currentColour && result.greyPermAmbition) {\n        result.currentColour = result.greyPermAmbition;\n        result.currentColourShade = result.greyPermAmbitionShade;\n        result.colourAmbition = 'Stay the same';\n        result.regrowthColourShade = result.greyPermAmbitionShade;\n    }\n\n    return result;\n};\n\nvar isRegrowthColourTooDark = function isRegrowthColourTooDark(details) {\n    if (details) {\n        var regrowthShadeIndex = details.regrowthShadeIndex,\n            currentShadeIndex = details.currentShadeIndex;\n\n\n        if (typeof currentShadeIndex !== 'undefined' && typeof regrowthShadeIndex !== 'undefined' && regrowthShadeIndex > -1) {\n            var shadeDifference = regrowthShadeIndex - currentShadeIndex;\n            var maxDifferenceAllowed = SHADE_CHANGE_STEP * 2;\n\n            if (shadeDifference < maxDifferenceAllowed * -1) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\nvar isCurrentColourTooLight = function isCurrentColourTooLight(details) {\n    if (details) {\n        var regrowthShadeIndex = details.regrowthShadeIndex,\n            shadeIndex = details.shadeIndex;\n\n\n        if (typeof regrowthShadeIndex !== 'undefined' && typeof shadeIndex !== 'undefined') {\n            if (regrowthShadeIndex >= 0 && shadeIndex > regrowthShadeIndex && shadeIndex - regrowthShadeIndex > SHADE_CHANGE_STEP) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\nvar getPermanentReason = function getPermanentReason(results, colourDetails) {\n    var products = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Highlights', results.hairColourType)) {\n        return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].highlights();\n    } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Bleached', results.hairColourType)) {\n        return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].bleached();\n    } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Balayage', results.hairColourType)) {\n        return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].balayage();\n    } else if (colourDetails && (isRegrowthColourTooDark(colourDetails) || isCurrentColourTooLight(colourDetails))) {\n        return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].unsuitableColour();\n    } else {\n        var product = lodash_find__WEBPACK_IMPORTED_MODULE_4___default()(products, function (p) {\n            return p.key.includes('permanent-colour');\n        });\n\n        if (product) {\n            var productColour = lodash_last__WEBPACK_IMPORTED_MODULE_9___default()(lodash_split__WEBPACK_IMPORTED_MODULE_13___default()(product.title, ' - '));\n            var productShade = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_17__[\"getShadeFromProductName\"])(product.title);\n\n            if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('None (0%)', results.greyAmount) || lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Very few (less than 10%)', results.greyAmount)) {\n                var greysType = lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('None (0%)', results.greyAmount) ? 'no greys' : 'very few greys';\n\n                if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Not sure', results.colourAmbition)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].lowGreysAndNotSure(greysType, productColour, productShade);\n                } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Stay the same', results.colourAmbition) && lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('None, my colour is natural', results.hairColourType)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].lowGreysAndStayTheSameNatural(greysType, productColour, productShade);\n                } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Stay the same', results.colourAmbition) && !lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('None, my colour is natural', results.hairColourType)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].lowGreysAndStayTheSameNotNatural(greysType, productColour, productShade);\n                } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('A bit lighter', results.colourAmbition)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].lowGreysAndABitLighter(greysType, productColour, productShade);\n                } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('A bit darker', results.colourAmbition)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].lowGreysAndABitDarker(greysType, productColour, productShade);\n                } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('A lot darker', results.colourAmbition)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].lowGreysAndALotDarker(greysType, productColour, productShade);\n                }\n            } else {\n                if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Not sure', results.colourAmbition)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].midHighGreysAndNotSure(productColour, productShade);\n                } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Stay the same', results.colourAmbition)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].midHighGreysAndStayTheSame(productColour, productShade);\n                } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('A bit lighter', results.colourAmbition)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].midHighGreysAndABitLighter(productColour, productShade);\n                } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('A bit darker', results.colourAmbition)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].midHighGreysAndABitDarker(productColour, productShade);\n                } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('A lot darker', results.colourAmbition)) {\n                    return _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"permanentReasons\"].midHighGreysAndALotDarker(productColour, productShade);\n                }\n            }\n        }\n    }\n\n    return '';\n};\n\nvar getConcealerReason = function getConcealerReason(results, colourDetails) {\n    var products = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var reasons = [];\n\n    if (colourDetails && isRegrowthColourTooDark(colourDetails)) {\n        reasons.push(_consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"concealerReasons\"].regrowthTooDark(products));\n    } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()(results.greyAmount, 'None (0%)')) {\n        reasons.push(_consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"concealerReasons\"].noGreys(products));\n    } else if (lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()(results.greyAmount, 'Very few (less than 10%)')) {\n        reasons.push(_consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"concealerReasons\"].fewGreys(products));\n    } else {\n        reasons.push(_consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"concealerReasons\"].someMostAndAllGreys(products));\n    }\n\n    return reasons.join(' ');\n};\n\nvar getCareReason = function getCareReason(results, colourDetails, products) {\n    var reasons = [_consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"careReasons\"].textureAndColour(lodash_toLower__WEBPACK_IMPORTED_MODULE_15___default()(lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(results, 'hairTexture')), lodash_toLower__WEBPACK_IMPORTED_MODULE_15___default()(lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(colourDetails, 'colour'))), _consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"careReasons\"].everythingMask()];\n\n    var shadeShotProduct = lodash_find__WEBPACK_IMPORTED_MODULE_4___default()(products, function (p) {\n        return p.key.includes('shade-shot');\n    });\n\n    if (shadeShotProduct) {\n        reasons.push(_consultation_reasons__WEBPACK_IMPORTED_MODULE_16__[\"careReasons\"].shadeShot(lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(shadeShotProduct, 'title'), lodash_toLower__WEBPACK_IMPORTED_MODULE_15___default()(lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(results, 'unwantedTone'))));\n    }\n\n    return reasons.join(' ');\n};\n\n/**\n * If their hair is natural there won't be a current colour answer, so use the shade colour instead\n */\nvar getUseableCurrentColour = function getUseableCurrentColour(_ref) {\n    var currentColour = _ref.currentColour,\n        currentColourShade = _ref.currentColourShade,\n        greyAim = _ref.greyAim;\n\n    if (finalColourDetails && finalColourDetails.shade && finalColourDetails.colour) {\n        return finalColourDetails.shade + ' ' + finalColourDetails.colour;\n    }\n\n    if (greyAim && greyAim != 'I\\'m not ready to be grey yet! Let\\'s cover it') {\n        return 'Grey';\n    }\n\n    return currentColour && currentColour !== '' ? currentColour : currentColourShade;\n};\n\n/**\n * This is an importan function as it sets all the information for a user's current and ambition colour. We use\n * this when calculating their care products, permanent colour, etc.\n */\nvar setFinalColourDetails = function setFinalColourDetails(currentColourShade) {\n    var colourAmbition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Stay the same';\n    var regrowthColourShade = arguments[2];\n\n    /**\n     * Define the steps to move up/down for a user's ambition depending on if it's to be darker, lighter, or the same.\n     */\n    var newShadeCalculations = {\n        'A lot darker': [lodash_subtract__WEBPACK_IMPORTED_MODULE_14___default.a, SHADE_CHANGE_STEP * 2],\n        'A bit darker': [lodash_subtract__WEBPACK_IMPORTED_MODULE_14___default.a, SHADE_CHANGE_STEP],\n        'A bit lighter': [lodash_add__WEBPACK_IMPORTED_MODULE_0___default.a, SHADE_CHANGE_STEP],\n        'Stay the same': [lodash_add__WEBPACK_IMPORTED_MODULE_0___default.a, 0]\n    };\n    var newShadeCalculation = newShadeCalculations[colourAmbition];\n\n    /**\n     * Get all the shades from Permanent products. E.g. 'Permanent Colour 2.0 Darkest Brown' will return '2'.\n     */\n    var allPermanentProductShades = permanentProducts.map(function (p) {\n        return Object(_services_helpers__WEBPACK_IMPORTED_MODULE_17__[\"getShadeFromProductName\"])(p.title);\n    });\n\n    /**\n     * Get the shades for a user's current colour and their regrowth colour. We use these to determine if we can\n     * recommend a colour or not.\n     */\n    var currentShadeNumber = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_17__[\"getShadeFromProductName\"])(currentColourShade);\n    var regrowthShadeNumber = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_17__[\"getShadeFromProductName\"])(regrowthColourShade);\n\n    /**\n     * Take the pointer for the current and regrowth products, depending on their shade\n     */\n    var currentShadeIndex = lodash_indexOf__WEBPACK_IMPORTED_MODULE_7___default()(allPermanentProductShades, currentShadeNumber);\n    var regrowthShadeIndex = lodash_indexOf__WEBPACK_IMPORTED_MODULE_7___default()(allPermanentProductShades, regrowthShadeNumber);\n\n    /**\n     * Get their recommended Permanent product. Using `clamp` we make sure it doesn't go too low or too high\n     * out of range.\n     */\n    var newShadeIndex = lodash_clamp__WEBPACK_IMPORTED_MODULE_1___default()(newShadeCalculation[0].call(null, currentShadeIndex, newShadeCalculation[1]), 0, allPermanentProductShades.length - 1);\n\n    /**\n     * Return all the final details needed for product recommendations and colour calculations.\n     */\n    finalColourDetails = {\n        allShades: allPermanentProductShades,\n        calculation: newShadeCalculations[colourAmbition],\n        colour: lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(permanentProducts[newShadeIndex].key, 'blonde') ? 'blonde' : 'brown',\n        currentShadeIndex: currentShadeIndex,\n        regrowthShadeIndex: regrowthShadeIndex,\n        shade: lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(permanentProducts[newShadeIndex].key, 'light') ? 'Light' : 'Dark',\n        shadeIndex: newShadeIndex,\n        shadeNumber: allPermanentProductShades[newShadeIndex],\n        steps: newShadeIndex - currentShadeIndex\n    };\n};\n\nvar getPermanentMatch = function getPermanentMatch() {\n    if (finalColourDetails && !isCurrentColourTooLight(finalColourDetails)) {\n        var _finalColourDetails = finalColourDetails,\n            allShades = _finalColourDetails.allShades,\n            shadeIndex = _finalColourDetails.shadeIndex;\n\n        /**\n         * Filter all Permanent products to find the one that matches a user's current colour number\n         */\n\n        if (typeof allShades !== 'undefined' && typeof shadeIndex !== 'undefined') {\n            return permanentProducts.filter(function (p) {\n                return p.title.includes(allShades[shadeIndex]);\n            });\n        }\n    }\n\n    return [];\n};\n\nvar getPermanentRecommendation = function getPermanentRecommendation(results) {\n    var products = [];\n\n    /**\n     * If we have the required information to set a user's colour detail, set that before getting their\n     * recommende product.\n     */\n    if (results.currentColourShade && (results.colourAmbition || results.greyPermColourAmbition) && results.regrowthColourShade) {\n        setFinalColourDetails(results.currentColourShade, results.colourAmbition, results.regrowthColourShade);\n    }\n\n    /**\n     * Permanent Colour products can only be recommended to these 2 hair colour types\n     */\n    if (lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(['All-over colour', 'None, my colour is natural'], results.hairColourType)) {\n        products = getPermanentMatch();\n    }\n\n    return products;\n};\n\nvar getBlendingBrushMatches = function getBlendingBrushMatches(results) {\n    var possibleMatches = [{\n        colourShade: 'Dark brown',\n        key: 'darker-brown-blending-brush'\n    }, {\n        colourShade: 'Light brown',\n        key: 'lighter-brown-blending-brush'\n    }, {\n        colourShade: 'Dark blonde',\n        key: 'darker-blonde-blending-brush'\n    }];\n    /**\n     * Compare all Concealer products against possible Blending Brush products, depending on a user's current\n     * hair colour.\n     */\n    return mapMatchesToProducts(possibleMatches, function (match) {\n        return lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(getUseableCurrentColour(results), match.colourShade);\n    }, concealerProducts);\n};\n\nvar getRootMarkerMatches = function getRootMarkerMatches(results) {\n    var possibleMatches = [{\n        colourShade: 'Dark brown',\n        key: 'darker-brown-root-marker'\n    }, {\n        colourShade: 'Dark blonde',\n        key: 'darker-blonde-root-marker'\n    }, {\n        colourShade: 'Light blonde',\n        key: 'lighter-blonde-root-marker'\n    }];\n\n    /**\n     * Compare all Concealer products against possible Root Marker products, depending on a user's current hair colour.\n     */\n    return mapMatchesToProducts(possibleMatches, function (match) {\n        return lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(getUseableCurrentColour(results), match.colourShade);\n    }, concealerProducts);\n};\n\nvar getRootSmudgerMatches = function getRootSmudgerMatches(results) {\n    var possibleMatches = [{\n        colourShade: 'Light brown',\n        key: 'lighter-brown-root-smudger'\n    }, {\n        colourShade: 'Dark brown',\n        key: 'darker-brown-root-smudger'\n    }, {\n        colourShade: 'Dark blonde',\n        key: 'darker-blonde-root-smudger'\n    }];\n\n    /**\n     * Compare all Concealer products against possible Root Smudger products, depending on a user's current\n     * hair colour.\n     */\n    return mapMatchesToProducts(possibleMatches, function (match) {\n        return lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(getUseableCurrentColour(results), match.colourShade);\n    }, concealerProducts);\n};\n\nvar getTintedDryShampooMatches = function getTintedDryShampooMatches(results) {\n    var possibleMatches = [{\n        colourShade: 'Dark brown',\n        key: 'darker-brown-tinted-dry-shampoo'\n    }, {\n        colourShade: 'Light brown',\n        key: 'lighter-brown-tinted-dry-shampoo'\n    }, {\n        colourShade: 'Light blonde',\n        key: 'lighter-blonde-tinted-dry-shampoo'\n    }];\n\n    /**\n     * Compare all Concealer products against possible Tinted Dry Shampoo products, depending on a user's\n     * current hair colour.\n     */\n    return mapMatchesToProducts(possibleMatches, function (match) {\n        return lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(getUseableCurrentColour(results), match.colourShade);\n    }, concealerProducts);\n};\n\nvar getConcealerRecommendation = function getConcealerRecommendation(results) {\n    var products = [];\n\n    /**\n     * We can only recommend Concealer products if a user has some grey hair, _or_ they have a\n     * compatible colour type.\n     */\n    if (!lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('None (0%)', results.greyAmount) && !lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(['Henna', 'Bleached'], results.hairColourType)) {\n        var regrowthTooDark = isRegrowthColourTooDark(finalColourDetails);\n\n        var blendingBrushProducts = [];\n        var rootSmudgerProducts = [];\n        var rootMarkerProducts = [];\n        var tintedDryShampooProducts = [];\n\n        if (!regrowthTooDark) {\n            var canRecommendBlendingBrush = !lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(['None (0%)'], results.greyAmount);\n            var canRecommendRootSmudger = !lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(['None (0%)'], results.greyAmount);\n            var canRecommendRootMarker = lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(['None, my colour is natural', 'All-over colour'], results.hairColourType);\n\n            if (canRecommendBlendingBrush) {\n                blendingBrushProducts = getBlendingBrushMatches(results);\n            }\n\n            if (canRecommendRootSmudger) {\n                rootSmudgerProducts = getRootSmudgerMatches(results);\n            }\n\n            if (canRecommendRootMarker) {\n                rootMarkerProducts = getRootMarkerMatches(results);\n            }\n        }\n\n        var canRecommendTintedDryShampoo = lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(['All-over colour', 'None, my colour is natural', 'Highlights', 'Balayage'], results.hairColourType);\n\n        if (canRecommendTintedDryShampoo) {\n            tintedDryShampooProducts = getTintedDryShampooMatches(results);\n        }\n\n        /**\n         * Return the final collection of all possible recommendations for Concealer products.\n         */\n        products = [].concat(_toConsumableArray(blendingBrushProducts), _toConsumableArray(rootSmudgerProducts), _toConsumableArray(rootMarkerProducts), _toConsumableArray(tintedDryShampooProducts));\n    }\n\n    return products;\n};\n\n/**\n * Recommend a Shampoo based on hair colour and hair texture\n */\nvar getShampooMatches = function getShampooMatches(results) {\n    var possibleMatches = [{\n        key: 'fine-blonde-shampoo',\n        texture: ['Add some volume and lock in moisture'],\n        colour: ['Light blonde', 'Dark blonde', 'Grey']\n    }, {\n        key: 'frizzy-blonde-shampoo',\n        texture: ['Smooth my hair and keep it under control'],\n        colour: ['Light blonde', 'Dark blonde', 'Grey']\n    }, {\n        key: 'fine-brunette-shampoo',\n        texture: ['Add some volume and lock in moisture'],\n        colour: ['Light brown', 'Dark brown']\n    }, {\n        key: 'frizzy-brunette-shampoo',\n        texture: ['Smooth my hair and keep it under control'],\n        colour: ['Light brown', 'Dark brown']\n    }];\n\n    /**\n     * Compare all Care products against possible Shampoo products, depending on a user's selected hair texture\n     * and current hair colour. Multiple hair textures can map to a single product. E.g. 'fine' and 'flat' can both\n     * match to a 'fine' shampoo.\n     */\n    return mapMatchesToProducts(possibleMatches, function (match) {\n        return lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(match.colour, getUseableCurrentColour(results)) && lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(match.texture, results.careAmbition);\n    }, careProducts);\n};\n\n/**\n * Recommend a Conditioner based on hair colour and hair texture\n */\nvar getConditionerMatches = function getConditionerMatches(results) {\n    var possibleMatches = [{\n        key: 'fine-blonde-conditioner',\n        texture: ['Add some volume and lock in moisture'],\n        colour: ['Light blonde', 'Dark blonde', 'Grey']\n    }, {\n        key: 'frizzy-blonde-conditioner',\n        texture: ['Smooth my hair and keep it under control'],\n        colour: ['Light blonde', 'Dark blonde', 'Grey']\n    }, {\n        key: 'fine-brunette-conditioner',\n        texture: ['Add some volume and lock in moisture'],\n        colour: ['Light brown', 'Dark brown']\n    }, {\n        key: 'frizzy-brunette-conditioner',\n        texture: ['Smooth my hair and keep it under control'],\n        colour: ['Light brown', 'Dark brown']\n    }];\n    /**\n     * Compare all Care products against possible Conditioner products, depending on a user's selected hair texture\n     * and current hair colour. Multiple hair textures can map to a single product. E.g. 'fine' and 'flat' can both\n     * match to a 'fine' conditioner.\n     */\n    return mapMatchesToProducts(possibleMatches, function (match) {\n        return lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(match.colour, getUseableCurrentColour(results)) && lodash_includes__WEBPACK_IMPORTED_MODULE_6___default()(match.texture, results.careAmbition);\n    }, careProducts);\n};\n\n/**\n * Recommend a Shade Shot based on the unwanted tones\n */\nvar getShadeShotMatches = function getShadeShotMatches(results) {\n    var possibleMatches = [{\n        key: 'shade-shot-plus-chestnut-brunette',\n        tone: 'Rich, warm and chocolatey'\n    }, {\n        key: 'shade-shot-plus-smoky-brunette',\n        tone: 'Ashy, cool and smoky'\n    }, {\n        key: 'shade-shot-plus-champagne-blonde',\n        tone: 'Soft and sun-kissed'\n    }, {\n        key: 'shade-shot-plus-icy-blonde',\n        tone: 'Cool, ashy and icy'\n    }];\n\n    /**\n     * Compare all Care products against possible Shade Shot products, depending on a user's selected tone ambition\n     * and current hair colour.\n     */\n    return mapMatchesToProducts(possibleMatches, function (match) {\n        return lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()(match.tone, results.toneAmbition);\n    }, careProducts);\n};\n\nvar getCareRecommendation = function getCareRecommendation(results) {\n    var shampooProducts = getShampooMatches(results);\n    var conditionerProducts = getConditionerMatches(results);\n\n    /**\n     * We don't need to find a match for the Everything Mask as everyone should be recommended that so we just\n     * need to pick it out from the Care product collection.\n     */\n    var everythingMaskProduct = lodash_filter__WEBPACK_IMPORTED_MODULE_3___default()(careProducts, function (p) {\n        return lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('everything-mask', p.key);\n    });\n\n    var shadeShotProducts = [];\n\n    /**\n     * Shade Shot products are incompatible with the `Henna` hair type, so only include them if a user's hair\n     * is not Henna.\n     */\n    if (!lodash_eq__WEBPACK_IMPORTED_MODULE_2___default()('Henna', results.hairColourType)) {\n        shadeShotProducts = getShadeShotMatches(results);\n    }\n\n    /**\n     * Return the final collection of all possible recommendations for Care products.\n     */\n    var products = [].concat(_toConsumableArray(shadeShotProducts), _toConsumableArray(shampooProducts), _toConsumableArray(conditionerProducts), _toConsumableArray(everythingMaskProduct));\n\n    return products;\n};\n\n/**\n * This is the main function called to get the results for all collections.\n */\nvar consultationResults = function consultationResults(answers) {\n    var results = formatResults(answers);\n    var permanentProducts = getPermanentRecommendation(results);\n    var concealerProducts = getConcealerRecommendation(results);\n    var careProducts = getCareRecommendation(results);\n\n    var recommendations = {\n        permanent: {\n            products: permanentProducts,\n            reason: getPermanentReason(results, finalColourDetails, permanentProducts)\n        },\n        concealer: {\n            products: concealerProducts,\n            reason: getConcealerReason(results, finalColourDetails, concealerProducts)\n        },\n        care: {\n            products: careProducts,\n            reason: getCareReason(results, finalColourDetails, careProducts)\n        }\n    };\n\n    return recommendations;\n};\n\nvar resetFinalColour = function resetFinalColour() {\n    return finalColourDetails = null;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (consultationResults);\n\n//# sourceURL=webpack:///./src/js/components/consultation-results.js?");

/***/ }),

/***/ "./src/js/components/modal.js":
/*!************************************!*\
  !*** ./src/js/components/modal.js ***!
  \************************************/
/*! exports provided: closeModal, openModal, setActiveModal, init, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeModal\", function() { return closeModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openModal\", function() { return openModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setActiveModal\", function() { return setActiveModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! animejs */ \"./node_modules/animejs/anime.min.js\");\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(animejs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/eq */ \"./node_modules/lodash/eq.js\");\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_eq__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/get */ \"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/throttle */ \"./node_modules/lodash/throttle.js\");\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/helpers */ \"./src/js/services/helpers.js\");\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\nvar els = {};\nvar ANIMATION_DURATION = 200;\nvar ANIMATION_OFFSET = 40;\n\nvar setDisplayStyle = function setDisplayStyle() {\n    var $modalContainer = els.$modalContainer,\n        $modalWrapper = els.$modalWrapper;\n\n\n    if ($modalContainer && $modalWrapper) {\n        $modalContainer.style.visibility = 'hidden';\n\n        var modalIsTallerThanWindow = $modalWrapper.getBoundingClientRect().height > window.innerHeight;\n\n        $modalContainer.classList.toggle('c-modal--no-flex', modalIsTallerThanWindow);\n        $modalContainer.style.visibility = 'visible';\n    }\n};\n\nvar addOutsideClickEvents = function addOutsideClickEvents() {\n    document.addEventListener('click', handleOutsideClickEvents, false);\n};\nvar removeOutsideClickEvents = function removeOutsideClickEvents() {\n    document.removeEventListener('click', handleOutsideClickEvents, false);\n};\n\nvar closeModal = function closeModal() {\n    var $body = els.$body,\n        $html = els.$html,\n        $modalCloseButton = els.$modalCloseButton,\n        $modalContainer = els.$modalContainer,\n        $modalWrapper = els.$modalWrapper;\n\n\n    if ($body && $modalContainer && $modalWrapper && $html) {\n        removeOutsideClickEvents;\n\n        animejs__WEBPACK_IMPORTED_MODULE_0___default.a.timeline().add({\n            duration: ANIMATION_DURATION / 2,\n            easing: 'easeInExpo',\n            opacity: [1, 0],\n            targets: $modalCloseButton,\n            translateY: [0, ANIMATION_OFFSET / 2]\n        }).add({\n            duration: ANIMATION_DURATION * 2.5,\n            easing: 'easeInExpo',\n            offset: '-=100',\n            opacity: [1, 0],\n            targets: $modalWrapper,\n            translateY: [0, ANIMATION_OFFSET]\n        }).add({\n            complete: function complete() {\n                $body.classList.remove('u-no-scroll');\n                $html.classList.remove('u-no-scroll');\n                $modalContainer.classList.add('u-hide');\n            },\n\n            duration: ANIMATION_DURATION * 2,\n            easing: 'easeInExpo',\n            offset: '-=100',\n            opacity: [1, 0],\n            targets: $modalContainer\n        });\n    }\n};\n\nvar openModal = function openModal() {\n    var isNonInteractive = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var $body = els.$body,\n        $html = els.$html,\n        $modalCloseButton = els.$modalCloseButton,\n        $modalContainer = els.$modalContainer,\n        $modalWrapper = els.$modalWrapper;\n\n\n    if ($modalContainer && $body && $modalWrapper && $html) {\n        $body.classList.add('u-no-scroll');\n        $html.classList.add('u-no-scroll');\n        $modalContainer.classList.remove('u-hide');\n\n        addOutsideClickEvents();\n        setDisplayStyle();\n        // window.scrollTo(0, 0);\n\n        animejs__WEBPACK_IMPORTED_MODULE_0___default.a.timeline().add({\n            duration: ANIMATION_DURATION * 2,\n            easing: 'easeInExpo',\n            opacity: [0, 1],\n            targets: $modalContainer\n        }).add({\n            duration: ANIMATION_DURATION * 4,\n            elasticity: ANIMATION_DURATION * 2,\n            opacity: [0, 1],\n            targets: $modalWrapper,\n            translateY: [ANIMATION_OFFSET, 0]\n        }).add({\n            duration: ANIMATION_DURATION,\n            easing: 'easeInExpo',\n            offset: '-=800',\n            opacity: [0, 1],\n            targets: $modalCloseButton,\n            translateY: [ANIMATION_OFFSET / 2, 0]\n        });\n\n        if (window.ga) {\n            window.ga('send', 'event', {\n                eventCategory: 'Overlay',\n                eventAction: 'click',\n                eventLabel: 'Opened ' + lodash_get__WEBPACK_IMPORTED_MODULE_2___default()($modalContainer, 'dataset.modal'),\n                nonInteraction: isNonInteractive\n            });\n        }\n    }\n};\n\nvar setActiveModal = function setActiveModal(id) {\n    var $targetModal = document.querySelector('.js-modal[data-modal=\"' + id + '\"]');\n\n    if ($targetModal) {\n        els.$modalContainer = $targetModal;\n        els.$modalWrapper = $targetModal.querySelector('.js-modal-wrapper');\n    }\n};\n\nvar handleOutsideClickEvents = function handleOutsideClickEvents(event) {\n    var $target = event.target;\n    var expectedClass = 'c-modal';\n\n    if ($target && $target.classList.contains(expectedClass)) {\n        closeModal();\n    }\n};\n\nvar handleOpenModal = function handleOpenModal(event) {\n    event.preventDefault();\n\n    var $target = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_4__[\"intendedTargetElement\"])('js-modal-open', event.target);\n\n    if ($target) {\n        var targetModal = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()($target, 'dataset.modal');\n\n        if (targetModal) {\n            setActiveModal(targetModal);\n            openModal();\n        }\n    }\n};\n\nvar handleCloseModal = function handleCloseModal(event) {\n    event.preventDefault();\n\n    var $target = Object(_services_helpers__WEBPACK_IMPORTED_MODULE_4__[\"intendedTargetElement\"])('js-modal-close', event.target);\n\n    if ($target) {\n        var targetModal = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()($target, 'dataset.modal');\n        var closeMatchesTarget = lodash_eq__WEBPACK_IMPORTED_MODULE_1___default()(lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(els, '$modalContainer.dataset.modal'), targetModal);\n\n        if (closeMatchesTarget) {\n            closeModal();\n        }\n    }\n};\n\nvar detectEscapeKeyUp = function detectEscapeKeyUp(event) {\n    if (event.keyCode === 27) {\n        closeModal();\n    }\n};\n\nvar events = function events() {\n    if (els.$modalOpenButton) {\n        [].concat(_toConsumableArray(els.$modalOpenButton)).map(function ($button) {\n            return $button.addEventListener('click', handleOpenModal, false);\n        });\n    }\n\n    if (els.$modalCloseButton) {\n        [].concat(_toConsumableArray(els.$modalCloseButton)).map(function ($button) {\n            return $button.addEventListener('click', handleCloseModal, false);\n        });\n    }\n\n    window.addEventListener('keyup', detectEscapeKeyUp, false);\n    window.addEventListener('resize', lodash_throttle__WEBPACK_IMPORTED_MODULE_3___default()(setDisplayStyle, 250), false);\n};\n\nvar cache = function cache() {\n    els.$body = document.body;\n    els.$html = document.querySelector('html');\n    els.$modalCloseButton = document.querySelectorAll('.js-modal-close');\n    els.$modalOpenButton = document.querySelectorAll('.js-modal-open');\n};\n\nvar init = function init() {\n    cache();\n    events();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ init: init });\n\n//# sourceURL=webpack:///./src/js/components/modal.js?");

/***/ }),

/***/ "./src/js/components/react/AddToCartButton.js":
/*!****************************************************!*\
  !*** ./src/js/components/react/AddToCartButton.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
<<<<<<< HEAD
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/preact-compat/dist/preact-compat.es.js\");\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/helpers */ \"./src/js/services/helpers.js\");\n/**\n * @prettier\n * \n */\n\n\n\nvar AddToCartButton = function AddToCartButton(_ref) {\n    var handleClick = _ref.handleClick,\n        label = _ref.label,\n        size = _ref.size,\n        variantId = _ref.variantId;\n    return react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n        'button',\n        {\n            className: 'c-button c-button--black c-button--add ' + (size ? 'c-button--' + size : ''),\n            onClick: function onClick() {\n                return handleClick(variantId);\n            }\n        },\n        label ? label : 'Add to cart'\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AddToCartButton);\n\n//# sourceURL=webpack:///./src/js/components/react/AddToCartButton.js?");
=======
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/helpers */ \"./src/js/services/helpers.js\");\n/**\n * @prettier\n * \n */\n\n\n\nvar AddToCartButton = function AddToCartButton(_ref) {\n    var handleClick = _ref.handleClick,\n        label = _ref.label,\n        size = _ref.size,\n        variantId = _ref.variantId;\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n        'button',\n        {\n            className: 'c-button c-button--black c-button--add ' + (size ? 'c-button--' + size : ''),\n            onClick: function onClick() {\n                return handleClick(variantId);\n            }\n        },\n        label ? label : 'Add to cart'\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AddToCartButton);\n\n//# sourceURL=webpack:///./src/js/components/react/AddToCartButton.js?");
>>>>>>> consultation-master

/***/ }),

/***/ "./src/js/components/react/Checkbox.js":
/*!*********************************************!*\
  !*** ./src/js/components/react/Checkbox.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
<<<<<<< HEAD
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/preact-compat/dist/preact-compat.es.js\");\n/**\n * @prettier\n * \n */\n\n\nvar Checkbox = function Checkbox(_ref) {\n    var handleClick = _ref.handleClick,\n        isSelected = _ref.isSelected,\n        value = _ref.value;\n    return react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n        'div',\n        {\n            className: 'c-checkbox ' + (isSelected ? 'c-checkbox--selected' : ''),\n            onClick: function onClick() {\n                return handleClick(!isSelected, value);\n            }\n        },\n        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n            'svg',\n            {\n                height: '15',\n                viewBox: '0 0 18 15',\n                width: '18',\n                className: 'c-checkbox__icon',\n                xmlns: 'http://www.w3.org/2000/svg'\n            },\n            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement('title', null),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement('path', {\n                d: 'M6 10.7L1.8 6.5.4 7.9 6 13.5l12-12L16.6.1 6 10.7z',\n                fill: '#000',\n                fillRule: 'evenodd'\n            })\n        )\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Checkbox);\n\n//# sourceURL=webpack:///./src/js/components/react/Checkbox.js?");
=======
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * @prettier\n * \n */\n\n\nvar Checkbox = function Checkbox(_ref) {\n    var handleClick = _ref.handleClick,\n        isSelected = _ref.isSelected,\n        value = _ref.value;\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n        'div',\n        {\n            className: 'c-checkbox ' + (isSelected ? 'c-checkbox--selected' : ''),\n            onClick: function onClick() {\n                return handleClick(!isSelected, value);\n            }\n        },\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n            'svg',\n            {\n                height: '15',\n                viewBox: '0 0 18 15',\n                width: '18',\n                className: 'c-checkbox__icon',\n                xmlns: 'http://www.w3.org/2000/svg'\n            },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('title', null),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('path', {\n                d: 'M6 10.7L1.8 6.5.4 7.9 6 13.5l12-12L16.6.1 6 10.7z',\n                fill: '#000',\n                fillRule: 'evenodd'\n            })\n        )\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Checkbox);\n\n//# sourceURL=webpack:///./src/js/components/react/Checkbox.js?");
>>>>>>> consultation-master

/***/ }),

/***/ "./src/js/components/react/ConsultationCareAndConcealerRecommendation.js":
/*!*******************************************************************************!*\
  !*** ./src/js/components/react/ConsultationCareAndConcealerRecommendation.js ***!
  \*******************************************************************************/
/*! exports provided: ConsultationCareAndConcealerRecommendation, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
<<<<<<< HEAD
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConsultationCareAndConcealerRecommendation\", function() { return ConsultationCareAndConcealerRecommendation; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/preact-compat/dist/preact-compat.es.js\");\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/helpers */ \"./src/js/services/helpers.js\");\n/* harmony import */ var _AddToCartButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AddToCartButton */ \"./src/js/components/react/AddToCartButton.js\");\n/* harmony import */ var scrollmonitor_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! scrollmonitor-react */ \"./node_modules/scrollmonitor-react/dist/index.js\");\n/* harmony import */ var scrollmonitor_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(scrollmonitor_react__WEBPACK_IMPORTED_MODULE_3__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @prettier\n * \n */\n\n\n\n\n\nvar ConsultationCareAndConcealerRecommendation = function (_Component) {\n    _inherits(ConsultationCareAndConcealerRecommendation, _Component);\n\n    function ConsultationCareAndConcealerRecommendation() {\n        _classCallCheck(this, ConsultationCareAndConcealerRecommendation);\n\n        return _possibleConstructorReturn(this, (ConsultationCareAndConcealerRecommendation.__proto__ || Object.getPrototypeOf(ConsultationCareAndConcealerRecommendation)).apply(this, arguments));\n    }\n\n    _createClass(ConsultationCareAndConcealerRecommendation, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var images = this.props.products.map(function (product) {\n                return product.image;\n            });\n\n            setTimeout(function () {\n                return Object(_services_helpers__WEBPACK_IMPORTED_MODULE_1__[\"preloadImages\"])(images);\n            }, 2000);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.isInViewport === false && nextProps.isInViewport === true) {\n                this.props.stopWatcher();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                handleClick = _props.handleClick,\n                isInViewport = _props.isInViewport,\n                reason = _props.reason,\n                products = _props.products,\n                subtitle = _props.subtitle,\n                title = _props.title;\n\n\n            return react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                'section',\n                { className: 'o-section o-wrapper' },\n                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                    'div',\n                    { className: 'u-6/12@mobile u-4/12@desktop' },\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                        'h3',\n                        { className: 'u-heading u-mb qa-title' },\n                        title\n                    ),\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                        'h4',\n                        { className: 'u-heading u-h6 u-mb u-spacing-0 qa-subtitle' },\n                        subtitle\n                    ),\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                        'p',\n                        { className: 'qa-reason' },\n                        reason\n                    )\n                ),\n                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                    'div',\n                    {\n                        className: 'o-layout o-layout--huge o-layout--products2 o-layout--left-right-cols u-text-right u-stack-layout@mobile u-mt+',\n                        'data-size': products.length\n                    },\n                    products.map(function (product, index) {\n                        return react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                            'div',\n                            {\n                                className: 'o-layout__item u-4/12@mobile u-text-center u-fade-intersected ' + (isInViewport ? 'u-in-viewport' : ''),\n                                key: 'product-' + index\n                            },\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                'a',\n                                { href: '/products/' + product.key, target: 'noopener' },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                    'div',\n                                    { className: 'c-card c-card--hover c-card--default c-card--no-max u-mb' },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                        'div',\n                                        { className: 'c-card__image-wrapper' },\n                                        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement('div', {\n                                            className: 'c-card__image qa-image',\n                                            style: {\n                                                backgroundImage: isInViewport ? 'url(' + product.image + ')' : null,\n                                                backgroundPosition: 'center center'\n                                            }\n                                        })\n                                    )\n                                )\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                'a',\n                                {\n                                    href: '/products/' + product.key,\n                                    className: 'u-mb-- qa-url u-weight-bold qa-heading2',\n                                    target: 'noopener'\n                                },\n                                product.title\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement('br', null),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                'div',\n                                { className: 'u-weight-bold qa-price' },\n                                Object(_services_helpers__WEBPACK_IMPORTED_MODULE_1__[\"getPrice\"])(product.price)\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(_AddToCartButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                handleClick: handleClick,\n                                size: 'small u-mt-',\n                                variantId: product.variantId\n                            })\n                        );\n                    })\n                )\n            );\n        }\n    }]);\n\n    return ConsultationCareAndConcealerRecommendation;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(scrollmonitor_react__WEBPACK_IMPORTED_MODULE_3__[\"Watch\"])(ConsultationCareAndConcealerRecommendation));\n\n//# sourceURL=webpack:///./src/js/components/react/ConsultationCareAndConcealerRecommendation.js?");
=======
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConsultationCareAndConcealerRecommendation\", function() { return ConsultationCareAndConcealerRecommendation; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/helpers */ \"./src/js/services/helpers.js\");\n/* harmony import */ var _AddToCartButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AddToCartButton */ \"./src/js/components/react/AddToCartButton.js\");\n/* harmony import */ var scrollmonitor_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! scrollmonitor-react */ \"./node_modules/scrollmonitor-react/dist/index.js\");\n/* harmony import */ var scrollmonitor_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(scrollmonitor_react__WEBPACK_IMPORTED_MODULE_3__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @prettier\n * \n */\n\n\n\n\n\nvar ConsultationCareAndConcealerRecommendation = function (_Component) {\n    _inherits(ConsultationCareAndConcealerRecommendation, _Component);\n\n    function ConsultationCareAndConcealerRecommendation() {\n        _classCallCheck(this, ConsultationCareAndConcealerRecommendation);\n\n        return _possibleConstructorReturn(this, (ConsultationCareAndConcealerRecommendation.__proto__ || Object.getPrototypeOf(ConsultationCareAndConcealerRecommendation)).apply(this, arguments));\n    }\n\n    _createClass(ConsultationCareAndConcealerRecommendation, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var images = this.props.products.map(function (product) {\n                return product.image;\n            });\n\n            setTimeout(function () {\n                return Object(_services_helpers__WEBPACK_IMPORTED_MODULE_1__[\"preloadImages\"])(images);\n            }, 2000);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.isInViewport === false && nextProps.isInViewport === true) {\n                this.props.stopWatcher();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                handleClick = _props.handleClick,\n                isInViewport = _props.isInViewport,\n                reason = _props.reason,\n                products = _props.products,\n                subtitle = _props.subtitle,\n                title = _props.title;\n\n\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'section',\n                { className: 'o-section o-wrapper' },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    'div',\n                    { className: 'u-6/12@mobile u-4/12@desktop' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'h3',\n                        { className: 'u-heading u-mb qa-title' },\n                        title\n                    ),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'h4',\n                        { className: 'u-heading u-h6 u-mb u-spacing-0 qa-subtitle' },\n                        subtitle\n                    ),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'p',\n                        { className: 'qa-reason' },\n                        reason\n                    )\n                ),\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    'div',\n                    {\n                        className: 'o-layout o-layout--huge o-layout--products2 o-layout--left-right-cols u-text-right u-stack-layout@mobile u-mt+',\n                        'data-size': products.length\n                    },\n                    products.map(function (product, index) {\n                        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'div',\n                            {\n                                className: 'o-layout__item u-4/12@mobile u-text-center u-fade-intersected ' + (isInViewport ? 'u-in-viewport' : ''),\n                                key: 'product-' + index\n                            },\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                'a',\n                                { href: '/products/' + product.key, target: 'noopener' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                    'div',\n                                    { className: 'c-card c-card--hover c-card--default c-card--no-max u-mb' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                        'div',\n                                        { className: 'c-card__image-wrapper' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n                                            className: 'c-card__image qa-image',\n                                            style: {\n                                                backgroundImage: isInViewport ? 'url(' + product.image + ')' : null,\n                                                backgroundPosition: 'center center'\n                                            }\n                                        })\n                                    )\n                                )\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                'a',\n                                {\n                                    href: '/products/' + product.key,\n                                    className: 'u-mb-- qa-url u-weight-bold qa-heading2',\n                                    target: 'noopener'\n                                },\n                                product.title\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('br', null),\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                'div',\n                                { className: 'u-weight-bold qa-price' },\n                                Object(_services_helpers__WEBPACK_IMPORTED_MODULE_1__[\"getPrice\"])(product.price)\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AddToCartButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                handleClick: handleClick,\n                                size: 'small u-mt-',\n                                variantId: product.variantId\n                            })\n                        );\n                    })\n                )\n            );\n        }\n    }]);\n\n    return ConsultationCareAndConcealerRecommendation;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(scrollmonitor_react__WEBPACK_IMPORTED_MODULE_3__[\"Watch\"])(ConsultationCareAndConcealerRecommendation));\n\n//# sourceURL=webpack:///./src/js/components/react/ConsultationCareAndConcealerRecommendation.js?");
>>>>>>> consultation-master

/***/ }),

/***/ "./src/js/components/react/ConsultationPermanentRecommendation.js":
/*!************************************************************************!*\
  !*** ./src/js/components/react/ConsultationPermanentRecommendation.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
<<<<<<< HEAD
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/preact-compat/dist/preact-compat.es.js\");\n/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/last */ \"./node_modules/lodash/last.js\");\n/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_last__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_replace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/replace */ \"./node_modules/lodash/replace.js\");\n/* harmony import */ var lodash_replace__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_replace__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_split__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/split */ \"./node_modules/lodash/split.js\");\n/* harmony import */ var lodash_split__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_split__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-motion */ \"./node_modules/react-motion/lib/react-motion.js\");\n/* harmony import */ var react_motion__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_motion__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/helpers */ \"./src/js/services/helpers.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../config */ \"./src/js/config.js\");\n/* harmony import */ var _AddToCartButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AddToCartButton */ \"./src/js/components/react/AddToCartButton.js\");\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\n\n\n\nvar ConsultationPermanentRecommendation = function ConsultationPermanentRecommendation(_ref) {\n    var boxImage = _ref.boxImage,\n        handleClick = _ref.handleClick,\n        reason = _ref.reason,\n        product = _ref.product;\n    return react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n        'section',\n        { className: 'c-consultation u-mt+ u-mt--@tablet' },\n        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n            'div',\n            { className: 'o-layout u-flex@mobile u-align-items-center c-product__permanent-recommendation' },\n            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                'div',\n                { className: 'o-layout__item u-5/12 u-7/12@mobile u-text-center u-align-right@mobile' },\n                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                    react_motion__WEBPACK_IMPORTED_MODULE_4__[\"Motion\"],\n                    {\n                        defaultStyle: {\n                            opacity: 0,\n                            x: _config__WEBPACK_IMPORTED_MODULE_6__[\"SPACING\"] * 5\n                        },\n                        style: {\n                            opacity: Object(react_motion__WEBPACK_IMPORTED_MODULE_4__[\"spring\"])(1, { damping: 14, stiffness: 40 }),\n                            x: Object(react_motion__WEBPACK_IMPORTED_MODULE_4__[\"spring\"])(0, { damping: 14, stiffness: 40 })\n                        }\n                    },\n                    function (_ref2) {\n                        var opacity = _ref2.opacity,\n                            x = _ref2.x;\n                        return react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement('div', {\n                            className: 'u-heading c-consultation__permanent-shade qa-shade',\n                            dangerouslySetInnerHTML: {\n                                __html: lodash_replace__WEBPACK_IMPORTED_MODULE_2___default()(Object(_services_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getShadeFromProductName\"])(product.title), '.', '<div class=\"c-consultation__permanent-shade-dot\"></div>')\n                            },\n                            style: {\n                                opacity: opacity,\n                                transform: 'translateX(' + x + 'px)'\n                            }\n                        });\n                    }\n                )\n            ),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                'div',\n                { className: 'o-layout__item u-7/12 u-2/12@mobile' },\n                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                    'a',\n                    { href: '/products/' + product.key, target: 'noopener' },\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement('img', {\n                        src: boxImage,\n                        alt: '',\n                        className: 'c-consultation__permanent-box u-shadow qa-image'\n                    })\n                )\n            ),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                'div',\n                { className: 'o-layout__item u-6/12@mobile' },\n                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                    'a',\n                    {\n                        href: '/products/' + product.key,\n                        className: 'u-heading u-h3 qa-title u-block qa-url',\n                        target: 'noopener'\n                    },\n                    product.title\n                ),\n                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                    'div',\n                    { className: 'u-heading u-weight-bold u-h5 u-mt-- u-mb qa-price' },\n                    Object(_services_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getPrice\"])(product.price)\n                ),\n                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                    'p',\n                    { className: 'u-mb qa-reason' },\n                    reason\n                )\n            )\n        )\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConsultationPermanentRecommendation);\n\n//# sourceURL=webpack:///./src/js/components/react/ConsultationPermanentRecommendation.js?");
=======
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/last */ \"./node_modules/lodash/last.js\");\n/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_last__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_replace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/replace */ \"./node_modules/lodash/replace.js\");\n/* harmony import */ var lodash_replace__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_replace__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_split__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/split */ \"./node_modules/lodash/split.js\");\n/* harmony import */ var lodash_split__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_split__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-motion */ \"./node_modules/react-motion/lib/react-motion.js\");\n/* harmony import */ var react_motion__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_motion__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/helpers */ \"./src/js/services/helpers.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../config */ \"./src/js/config.js\");\n/* harmony import */ var _AddToCartButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AddToCartButton */ \"./src/js/components/react/AddToCartButton.js\");\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\n\n\n\nvar ConsultationPermanentRecommendation = function ConsultationPermanentRecommendation(_ref) {\n    var boxImage = _ref.boxImage,\n        handleClick = _ref.handleClick,\n        reason = _ref.reason,\n        product = _ref.product;\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n        'section',\n        { className: 'c-consultation u-mt+ u-mt--@tablet' },\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n            'div',\n            { className: 'o-layout u-flex@mobile u-align-items-center c-product__permanent-recommendation' },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'div',\n                { className: 'o-layout__item u-5/12 u-7/12@mobile u-text-center u-align-right@mobile' },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    react_motion__WEBPACK_IMPORTED_MODULE_4__[\"Motion\"],\n                    {\n                        defaultStyle: {\n                            opacity: 0,\n                            x: _config__WEBPACK_IMPORTED_MODULE_6__[\"SPACING\"] * 5\n                        },\n                        style: {\n                            opacity: Object(react_motion__WEBPACK_IMPORTED_MODULE_4__[\"spring\"])(1, { damping: 14, stiffness: 40 }),\n                            x: Object(react_motion__WEBPACK_IMPORTED_MODULE_4__[\"spring\"])(0, { damping: 14, stiffness: 40 })\n                        }\n                    },\n                    function (_ref2) {\n                        var opacity = _ref2.opacity,\n                            x = _ref2.x;\n                        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n                            className: 'u-heading c-consultation__permanent-shade qa-shade',\n                            dangerouslySetInnerHTML: {\n                                __html: lodash_replace__WEBPACK_IMPORTED_MODULE_2___default()(Object(_services_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getShadeFromProductName\"])(product.title), '.', '<div class=\"c-consultation__permanent-shade-dot\"></div>')\n                            },\n                            style: {\n                                opacity: opacity,\n                                transform: 'translateX(' + x + 'px)'\n                            }\n                        });\n                    }\n                )\n            ),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'div',\n                { className: 'o-layout__item u-7/12 u-2/12@mobile' },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    'a',\n                    { href: '/products/' + product.key, target: 'noopener' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('img', {\n                        src: boxImage,\n                        alt: '',\n                        className: 'c-consultation__permanent-box u-shadow qa-image'\n                    })\n                )\n            ),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'div',\n                { className: 'o-layout__item u-6/12@mobile' },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    'a',\n                    {\n                        href: '/products/' + product.key,\n                        className: 'u-heading u-h3 qa-title u-block qa-url',\n                        target: 'noopener'\n                    },\n                    product.title\n                ),\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    'div',\n                    { className: 'u-heading u-weight-bold u-h5 u-mt-- u-mb qa-price' },\n                    Object(_services_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getPrice\"])(product.price)\n                ),\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    'p',\n                    { className: 'u-mb qa-reason' },\n                    reason\n                )\n            )\n        )\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConsultationPermanentRecommendation);\n\n//# sourceURL=webpack:///./src/js/components/react/ConsultationPermanentRecommendation.js?");
>>>>>>> consultation-master

/***/ }),

/***/ "./src/js/components/react/ConsultationRecommendations.js":
/*!****************************************************************!*\
  !*** ./src/js/components/react/ConsultationRecommendations.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
<<<<<<< HEAD
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/preact-compat/dist/preact-compat.es.js\");\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/eq */ \"./node_modules/lodash/eq.js\");\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_eq__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/find */ \"./node_modules/lodash/find.js\");\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/get */ \"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/flatMap */ \"./node_modules/lodash/flatMap.js\");\n/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/map */ \"./node_modules/lodash/map.js\");\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash_upperFirst__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/upperFirst */ \"./node_modules/lodash/upperFirst.js\");\n/* harmony import */ var lodash_upperFirst__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_upperFirst__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _cart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../cart */ \"./src/js/components/cart.js\");\n/* harmony import */ var _ConsultationPermanentRecommendation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ConsultationPermanentRecommendation */ \"./src/js/components/react/ConsultationPermanentRecommendation.js\");\n/* harmony import */ var _ConsultationCareAndConcealerRecommendation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ConsultationCareAndConcealerRecommendation */ \"./src/js/components/react/ConsultationCareAndConcealerRecommendation.js\");\n/* harmony import */ var _ConsultationResultsProductSelection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ConsultationResultsProductSelection */ \"./src/js/components/react/ConsultationResultsProductSelection.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\n\n\n\n\n\nvar ConsultationRecommendations = function (_Component) {\n    _inherits(ConsultationRecommendations, _Component);\n\n    function ConsultationRecommendations(props) {\n        _classCallCheck(this, ConsultationRecommendations);\n\n        var _this = _possibleConstructorReturn(this, (ConsultationRecommendations.__proto__ || Object.getPrototypeOf(ConsultationRecommendations)).call(this, props));\n\n        var name = lodash_find__WEBPACK_IMPORTED_MODULE_2___default()(_this.props.answers, function (a) {\n            return lodash_eq__WEBPACK_IMPORTED_MODULE_1___default()(a.name, 'NAME');\n        });\n        var allProducts = lodash_flatMap__WEBPACK_IMPORTED_MODULE_4___default()(_this.props.results, function (collection) {\n            return collection.products;\n        });\n        var selectedProducts = lodash_map__WEBPACK_IMPORTED_MODULE_5___default()(allProducts, function (product) {\n            return product.variantId;\n        });\n\n        var hasProducts = function hasProducts(key) {\n            return _this.props.results[key].products.length > 0;\n        };\n\n        _this.state = {\n            allProducts: allProducts,\n            HAS_PERMANENT: hasProducts('permanent'),\n            HAS_CONCEALER: hasProducts('concealer'),\n            HAS_CARE: hasProducts('care'),\n            name: name ? lodash_upperFirst__WEBPACK_IMPORTED_MODULE_6___default()(name.value) : '',\n            selectedProducts: selectedProducts\n        };\n\n        _this.handleAddAllProductsToCart = _this.handleAddAllProductsToCart.bind(_this);\n        _this.handleAddSelectedProductsToCart = _this.handleAddSelectedProductsToCart.bind(_this);\n        _this.handleAddSingleProductToCart = _this.handleAddSingleProductToCart.bind(_this);\n        _this.handleProductSelection = _this.handleProductSelection.bind(_this);\n        return _this;\n    }\n\n    _createClass(ConsultationRecommendations, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            setTimeout(function () {\n                if (_this2.$permanentWrapper) {\n                    _this2.$permanentWrapper.classList.add('t-grey-lightest');\n                }\n            }, 10);\n        }\n    }, {\n        key: 'trackProductsAddedToCart',\n        value: function trackProductsAddedToCart() {\n            var variantIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n            var source = arguments[1];\n\n            var trackedData = this.state.allProducts.filter(function (product) {\n                return variantIds.includes(product.variantId);\n            }).map(function (product) {\n                return {\n                    handle: product.handle,\n                    id: product.variantId,\n                    value: product.price\n                };\n            });\n\n            if (trackedData.length) {\n                trackedData.map(function (data) {\n                    return Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"trackAddToCart\"])(data.handle, data.id, data.value, source);\n                });\n            }\n        }\n    }, {\n        key: 'addProductsToCart',\n        value: function addProductsToCart(variantIds) {\n            var _this3 = this;\n\n            Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"getCart\"])().then(function (cart) {\n                var mergedProducts = variantIds.map(function (variantId) {\n                    var existingQuantity = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(lodash_find__WEBPACK_IMPORTED_MODULE_2___default()(cart.items, { id: parseInt(variantId) }), 'quantity');\n                    var quantity = existingQuantity ? existingQuantity + 1 : 1;\n\n                    return [variantId, quantity];\n                });\n\n                return Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"updateCartProduct\"])(mergedProducts);\n            }).then(function (response) {\n                Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"updateCartSummary\"])(response);\n                Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"showCartSummaryModal\"])(response);\n\n                _this3.deselectProducts(variantIds.map(function (v) {\n                    return v[0];\n                }));\n            }).catch(console.error);\n        }\n    }, {\n        key: 'deselectProducts',\n        value: function deselectProducts(variantIds) {\n            this.setState({\n                selectedProducts: this.state.selectedProducts.filter(function (v) {\n                    return !variantIds.includes(v);\n                })\n            });\n        }\n    }, {\n        key: 'handleAddAllProductsToCart',\n        value: function handleAddAllProductsToCart() {\n            this.addProductsToCart(this.state.allProducts.map(function (p) {\n                return [p.variantId, 1];\n            }));\n            this.trackProductsAddedToCart(this.state.allProducts.map(function (p) {\n                return p.variantId;\n            }), 'Consultation results - all products CTA');\n        }\n    }, {\n        key: 'handleAddSelectedProductsToCart',\n        value: function handleAddSelectedProductsToCart() {\n            this.addProductsToCart(this.state.selectedProducts.map(function (p) {\n                return [p, 1];\n            }));\n            this.trackProductsAddedToCart(this.state.selectedProducts, 'Consultation results - product list');\n        }\n    }, {\n        key: 'handleAddSingleProductToCart',\n        value: function handleAddSingleProductToCart(variantId) {\n            Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"addToCart\"])(variantId).then(_cart__WEBPACK_IMPORTED_MODULE_7__[\"getCart\"]).then(function (response) {\n                Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"updateCartSummary\"])(response);\n                Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"showCartSummaryModal\"])(response);\n            });\n\n            this.deselectProducts([variantId]);\n            this.trackProductsAddedToCart([variantId], 'Consultation results - single product CTA');\n        }\n    }, {\n        key: 'handleProductSelection',\n        value: function handleProductSelection(isSelected, variantId) {\n            var productIsSelected = this.state.selectedProducts.includes(variantId);\n\n            this.setState({\n                selectedProducts: isSelected ? [].concat(_toConsumableArray(this.state.selectedProducts), [variantId]) : this.state.selectedProducts.filter(function (v) {\n                    return !lodash_eq__WEBPACK_IMPORTED_MODULE_1___default()(v, variantId);\n                })\n            });\n        }\n    }, {\n        key: 'getPermanentBoxImage',\n        value: function getPermanentBoxImage(product) {\n            var boxImages = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.PermanentcolourBoxImages', []);\n\n            if (boxImages) {\n                var boxImage = lodash_find__WEBPACK_IMPORTED_MODULE_2___default()(boxImages, function (i) {\n                    return lodash_eq__WEBPACK_IMPORTED_MODULE_1___default()(i.key, product.key);\n                });\n\n                return boxImage ? boxImage.image : product.image;\n            } else {\n                return product.image;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var _state = this.state,\n                allProducts = _state.allProducts,\n                HAS_PERMANENT = _state.HAS_PERMANENT,\n                HAS_CONCEALER = _state.HAS_CONCEALER,\n                HAS_CARE = _state.HAS_CARE,\n                name = _state.name,\n                selectedProducts = _state.selectedProducts;\n            var results = this.props.results;\n\n\n            return react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                'section',\n                { className: 'qa-recommendations u-pt+@mobile u-pt0@desktop' },\n                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                    'div',\n                    {\n                        className: 'u-remove-nav-spacer u-transition-06',\n                        ref: function ref(el) {\n                            _this4.$permanentWrapper = el;\n                        }\n                    },\n                    react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                        'section',\n                        { className: 'o-section o-wrapper u-fade-in u-pb+ u-pb++@mobile' },\n                        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                            'header',\n                            { className: 'u-align-center@mobile u-m-auto' },\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                'h1',\n                                { className: 'u-heading u-h3 u-mb qa-name' },\n                                name ? react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                    'span',\n                                    null,\n                                    name,\n                                    ', here are your perfect products'\n                                ) : null,\n                                !name ? react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                    'span',\n                                    null,\n                                    'Here are your perfect products'\n                                ) : null\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                'p',\n                                { className: 'u-lead' },\n                                'We know everyone is different. Here is everything you need to have the great hair you deserve:'\n                            )\n                        ),\n                        HAS_PERMANENT ? react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(_ConsultationPermanentRecommendation__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            boxImage: this.getPermanentBoxImage(results.permanent.products[0]),\n                            handleClick: this.handleAddSingleProductToCart,\n                            product: results.permanent.products[0],\n                            reason: results.permanent.reason\n                        }) : null,\n                        !HAS_PERMANENT && results.permanent.reason ? react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                            'p',\n                            { className: 'u-mt u-mt+@mobile u-align-center@mobile' },\n                            results.permanent.reason,\n                            '.'\n                        ) : null,\n                        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(_ConsultationResultsProductSelection__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            handleAddToCart: this.handleAddSelectedProductsToCart,\n                            handleProductSelection: this.handleProductSelection,\n                            products: allProducts,\n                            selectedProducts: selectedProducts\n                        })\n                    )\n                ),\n                HAS_CONCEALER ? react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(_ConsultationCareAndConcealerRecommendation__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    handleClick: this.handleAddSingleProductToCart,\n                    products: results.concealer.products,\n                    reason: results.concealer.reason,\n                    subtitle: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.concealerSubtitle', 'Easy to use touch-up products designed to cover unwanted grey hair'),\n                    title: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.concealerTitle', 'Root concealers')\n                }) : null,\n                HAS_CARE ? react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(_ConsultationCareAndConcealerRecommendation__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    handleClick: this.handleAddSingleProductToCart,\n                    products: results.care.products,\n                    reason: results.care.reason,\n                    subtitle: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.careSubtitle', 'Products created to protect and refresh your colour'),\n                    title: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.careTitle', 'Care range')\n                }) : null\n            );\n        }\n    }]);\n\n    return ConsultationRecommendations;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConsultationRecommendations);\n\n//# sourceURL=webpack:///./src/js/components/react/ConsultationRecommendations.js?");
=======
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/eq */ \"./node_modules/lodash/eq.js\");\n/* harmony import */ var lodash_eq__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_eq__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/find */ \"./node_modules/lodash/find.js\");\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/get */ \"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/flatMap */ \"./node_modules/lodash/flatMap.js\");\n/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/map */ \"./node_modules/lodash/map.js\");\n/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash_upperFirst__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/upperFirst */ \"./node_modules/lodash/upperFirst.js\");\n/* harmony import */ var lodash_upperFirst__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_upperFirst__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _cart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../cart */ \"./src/js/components/cart.js\");\n/* harmony import */ var _ConsultationPermanentRecommendation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ConsultationPermanentRecommendation */ \"./src/js/components/react/ConsultationPermanentRecommendation.js\");\n/* harmony import */ var _ConsultationCareAndConcealerRecommendation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ConsultationCareAndConcealerRecommendation */ \"./src/js/components/react/ConsultationCareAndConcealerRecommendation.js\");\n/* harmony import */ var _ConsultationResultsProductSelection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ConsultationResultsProductSelection */ \"./src/js/components/react/ConsultationResultsProductSelection.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\n\n\n\n\n\nvar ConsultationRecommendations = function (_Component) {\n    _inherits(ConsultationRecommendations, _Component);\n\n    function ConsultationRecommendations(props) {\n        _classCallCheck(this, ConsultationRecommendations);\n\n        var _this = _possibleConstructorReturn(this, (ConsultationRecommendations.__proto__ || Object.getPrototypeOf(ConsultationRecommendations)).call(this, props));\n\n        var name = lodash_find__WEBPACK_IMPORTED_MODULE_2___default()(_this.props.answers, function (a) {\n            return lodash_eq__WEBPACK_IMPORTED_MODULE_1___default()(a.name, 'NAME');\n        });\n        var allProducts = lodash_flatMap__WEBPACK_IMPORTED_MODULE_4___default()(_this.props.results, function (collection) {\n            return collection.products;\n        });\n        var selectedProducts = lodash_map__WEBPACK_IMPORTED_MODULE_5___default()(allProducts, function (product) {\n            return product.variantId;\n        });\n\n        var hasProducts = function hasProducts(key) {\n            return _this.props.results[key].products.length > 0;\n        };\n\n        _this.state = {\n            allProducts: allProducts,\n            HAS_PERMANENT: hasProducts('permanent'),\n            HAS_CONCEALER: hasProducts('concealer'),\n            HAS_CARE: hasProducts('care'),\n            name: name ? lodash_upperFirst__WEBPACK_IMPORTED_MODULE_6___default()(name.value) : '',\n            selectedProducts: selectedProducts\n        };\n\n        _this.handleAddAllProductsToCart = _this.handleAddAllProductsToCart.bind(_this);\n        _this.handleAddSelectedProductsToCart = _this.handleAddSelectedProductsToCart.bind(_this);\n        _this.handleAddSingleProductToCart = _this.handleAddSingleProductToCart.bind(_this);\n        _this.handleProductSelection = _this.handleProductSelection.bind(_this);\n        return _this;\n    }\n\n    _createClass(ConsultationRecommendations, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            setTimeout(function () {\n                if (_this2.$permanentWrapper) {\n                    _this2.$permanentWrapper.classList.add('t-grey-lightest');\n                }\n            }, 10);\n        }\n    }, {\n        key: 'trackProductsAddedToCart',\n        value: function trackProductsAddedToCart() {\n            var variantIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n            var source = arguments[1];\n\n            var trackedData = this.state.allProducts.filter(function (product) {\n                return variantIds.includes(product.variantId);\n            }).map(function (product) {\n                return {\n                    handle: product.handle,\n                    id: product.variantId,\n                    value: product.price\n                };\n            });\n\n            if (trackedData.length) {\n                trackedData.map(function (data) {\n                    return Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"trackAddToCart\"])(data.handle, data.id, data.value, source);\n                });\n            }\n        }\n    }, {\n        key: 'addProductsToCart',\n        value: function addProductsToCart(variantIds) {\n            var _this3 = this;\n\n            Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"getCart\"])().then(function (cart) {\n                var mergedProducts = variantIds.map(function (variantId) {\n                    var existingQuantity = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(lodash_find__WEBPACK_IMPORTED_MODULE_2___default()(cart.items, { id: parseInt(variantId) }), 'quantity');\n                    var quantity = existingQuantity ? existingQuantity + 1 : 1;\n\n                    return [variantId, quantity];\n                });\n\n                return Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"updateCartProduct\"])(mergedProducts);\n            }).then(function (response) {\n                Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"updateCartSummary\"])(response);\n                Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"showCartSummaryModal\"])(response);\n\n                _this3.deselectProducts(variantIds.map(function (v) {\n                    return v[0];\n                }));\n            }).catch(console.error);\n        }\n    }, {\n        key: 'deselectProducts',\n        value: function deselectProducts(variantIds) {\n            this.setState({\n                selectedProducts: this.state.selectedProducts.filter(function (v) {\n                    return !variantIds.includes(v);\n                })\n            });\n        }\n    }, {\n        key: 'handleAddAllProductsToCart',\n        value: function handleAddAllProductsToCart() {\n            this.addProductsToCart(this.state.allProducts.map(function (p) {\n                return [p.variantId, 1];\n            }));\n            this.trackProductsAddedToCart(this.state.allProducts.map(function (p) {\n                return p.variantId;\n            }), 'Consultation results - all products CTA');\n        }\n    }, {\n        key: 'handleAddSelectedProductsToCart',\n        value: function handleAddSelectedProductsToCart() {\n            this.addProductsToCart(this.state.selectedProducts.map(function (p) {\n                return [p, 1];\n            }));\n            this.trackProductsAddedToCart(this.state.selectedProducts, 'Consultation results - product list');\n        }\n    }, {\n        key: 'handleAddSingleProductToCart',\n        value: function handleAddSingleProductToCart(variantId) {\n            Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"addToCart\"])(variantId).then(_cart__WEBPACK_IMPORTED_MODULE_7__[\"getCart\"]).then(function (response) {\n                Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"updateCartSummary\"])(response);\n                Object(_cart__WEBPACK_IMPORTED_MODULE_7__[\"showCartSummaryModal\"])(response);\n            });\n\n            this.deselectProducts([variantId]);\n            this.trackProductsAddedToCart([variantId], 'Consultation results - single product CTA');\n        }\n    }, {\n        key: 'handleProductSelection',\n        value: function handleProductSelection(isSelected, variantId) {\n            var productIsSelected = this.state.selectedProducts.includes(variantId);\n\n            this.setState({\n                selectedProducts: isSelected ? [].concat(_toConsumableArray(this.state.selectedProducts), [variantId]) : this.state.selectedProducts.filter(function (v) {\n                    return !lodash_eq__WEBPACK_IMPORTED_MODULE_1___default()(v, variantId);\n                })\n            });\n        }\n    }, {\n        key: 'getPermanentBoxImage',\n        value: function getPermanentBoxImage(product) {\n            var boxImages = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.PermanentcolourBoxImages', []);\n\n            if (boxImages) {\n                var boxImage = lodash_find__WEBPACK_IMPORTED_MODULE_2___default()(boxImages, function (i) {\n                    return lodash_eq__WEBPACK_IMPORTED_MODULE_1___default()(i.key, product.key);\n                });\n\n                return boxImage ? boxImage.image : product.image;\n            } else {\n                return product.image;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var _state = this.state,\n                allProducts = _state.allProducts,\n                HAS_PERMANENT = _state.HAS_PERMANENT,\n                HAS_CONCEALER = _state.HAS_CONCEALER,\n                HAS_CARE = _state.HAS_CARE,\n                name = _state.name,\n                selectedProducts = _state.selectedProducts;\n            var results = this.props.results;\n\n\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'section',\n                { className: 'qa-recommendations u-pt+@mobile u-pt0@desktop' },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    'div',\n                    {\n                        className: 'u-remove-nav-spacer u-transition-06',\n                        ref: function ref(el) {\n                            _this4.$permanentWrapper = el;\n                        }\n                    },\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'section',\n                        { className: 'o-section o-wrapper u-fade-in u-pb+ u-pb++@mobile' },\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'header',\n                            { className: 'u-align-center@mobile u-m-auto' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                'h1',\n                                { className: 'u-heading u-h3 u-mb qa-name' },\n                                name ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                    'span',\n                                    null,\n                                    name,\n                                    ', here are your perfect products'\n                                ) : null,\n                                !name ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                    'span',\n                                    null,\n                                    'Here are your perfect products'\n                                ) : null\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                'p',\n                                { className: 'u-lead' },\n                                'We know everyone is different. Here is everything you need to have the great hair you deserve:'\n                            )\n                        ),\n                        HAS_PERMANENT ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ConsultationPermanentRecommendation__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            boxImage: this.getPermanentBoxImage(results.permanent.products[0]),\n                            handleClick: this.handleAddSingleProductToCart,\n                            product: results.permanent.products[0],\n                            reason: results.permanent.reason\n                        }) : null,\n                        !HAS_PERMANENT && results.permanent.reason ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'p',\n                            { className: 'u-mt u-mt+@mobile u-align-center@mobile' },\n                            results.permanent.reason,\n                            '.'\n                        ) : null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ConsultationResultsProductSelection__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            handleAddToCart: this.handleAddSelectedProductsToCart,\n                            handleProductSelection: this.handleProductSelection,\n                            products: allProducts,\n                            selectedProducts: selectedProducts\n                        })\n                    )\n                ),\n                HAS_CONCEALER ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ConsultationCareAndConcealerRecommendation__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    handleClick: this.handleAddSingleProductToCart,\n                    products: results.concealer.products,\n                    reason: results.concealer.reason,\n                    subtitle: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.concealerSubtitle', 'Easy to use touch-up products designed to cover unwanted grey hair'),\n                    title: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.concealerTitle', 'Root concealers')\n                }) : null,\n                HAS_CARE ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ConsultationCareAndConcealerRecommendation__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    handleClick: this.handleAddSingleProductToCart,\n                    products: results.care.products,\n                    reason: results.care.reason,\n                    subtitle: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.careSubtitle', 'Products created to protect and refresh your colour'),\n                    title: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(window, 'globalData.careTitle', 'Care range')\n                }) : null\n            );\n        }\n    }]);\n\n    return ConsultationRecommendations;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConsultationRecommendations);\n\n//# sourceURL=webpack:///./src/js/components/react/ConsultationRecommendations.js?");
>>>>>>> consultation-master

/***/ }),

/***/ "./src/js/components/react/ConsultationResultsProductSelection.js":
/*!************************************************************************!*\
  !*** ./src/js/components/react/ConsultationResultsProductSelection.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
<<<<<<< HEAD
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/preact-compat/dist/preact-compat.es.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ \"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/helpers */ \"./src/js/services/helpers.js\");\n/* harmony import */ var _AddToCartButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AddToCartButton */ \"./src/js/components/react/AddToCartButton.js\");\n/* harmony import */ var _Checkbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Checkbox */ \"./src/js/components/react/Checkbox.js\");\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\nvar ConsultationResultsProductSelection = function ConsultationResultsProductSelection(_ref) {\n    var handleAddToCart = _ref.handleAddToCart,\n        handleProductSelection = _ref.handleProductSelection,\n        products = _ref.products,\n        selectedProducts = _ref.selectedProducts;\n    return react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n        'div',\n        { className: 'o-layout o-layout--huge u-stack-layout@mobile u-pt+' },\n        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n            'div',\n            { className: 'o-layout__item u-4/12@mobile' },\n            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                'h3',\n                { className: 'u-heading u-mb' },\n                lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(window, 'globalData.addAllTitle', 'Your personal Josh Wood Colour products')\n            ),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                'p',\n                null,\n                'Now you know your shade, here\\'s everything you need to achieve, maintain and care for your colour.'\n            )\n        ),\n        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement('div', { className: 'o-layout__item u-1/12@mobile u-2/12@tablet' }),\n        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n            'div',\n            { className: 'o-layout__item u-7/12@mobile u-6/12@tablet' },\n            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                'ul',\n                { className: 'o-ui-list' },\n                products.map(function (product, index) {\n                    return react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                        'li',\n                        {\n                            className: 'o-ui-list__item u-pv-- u-flex u-align-items-center',\n                            key: 'product-' + index,\n                            style: {\n                                opacity: selectedProducts.includes(product.variantId) ? 1 : 0.4\n                            }\n                        },\n                        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(_Checkbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            handleClick: handleProductSelection,\n                            isSelected: selectedProducts.includes(product.variantId),\n                            value: product.variantId\n                        }),\n                        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                            'div',\n                            { className: 'o-flag u-flex u-align-items-center u-ml-- u-ml-@mobile' },\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                'div',\n                                {\n                                    className: 'o-flag__image c-product__image--cart t-grey-lightest u-p- u-text-center',\n                                    style: { height: 'auto' }\n                                },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                    'a',\n                                    { href: '/products/' + product.key },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement('div', {\n                                        className: 'u-square',\n                                        style: {\n                                            backgroundImage: 'url(' + product.imageSmall + ')',\n                                            backgroundPosition: 'center center',\n                                            backgroundSize: 'cover'\n                                        }\n                                    })\n                                )\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                'div',\n                                { className: 'o-flag__body u-pl@mobile u-1/1' },\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                    'div',\n                                    { className: 'o-layout u-flex u-align-items-top' },\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                        'div',\n                                        { className: 'o-layout__item u-9/12@mobile' },\n                                        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                            'a',\n                                            { href: '/products/' + product.key },\n                                            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                                'strong',\n                                                { className: 'u-heading u-h6 u-spacing-0' },\n                                                product.type\n                                            )\n                                        )\n                                    ),\n                                    react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                        'div',\n                                        { className: 'o-layout__item u-3/12 u-text-right' },\n                                        react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                            'strong',\n                                            { className: 'u-font-size-14 u-spacing-0' },\n                                            Object(_services_helpers__WEBPACK_IMPORTED_MODULE_2__[\"getPrice\"])(product.price)\n                                        )\n                                    )\n                                ),\n                                react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                                    'div',\n                                    { className: 'u-weight-light' },\n                                    product.title\n                                )\n                            )\n                        )\n                    );\n                })\n            ),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(\n                'button',\n                {\n                    className: 'c-button c-button--black u-mt u-1/1',\n                    onClick: handleAddToCart,\n                    disabled: selectedProducts.length === 0\n                },\n                'Add ' + selectedProducts.length + ' product' + (selectedProducts.length === 1 ? '' : 's') + ' to cart'\n            )\n        )\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConsultationResultsProductSelection);\n\n//# sourceURL=webpack:///./src/js/components/react/ConsultationResultsProductSelection.js?");
=======
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ \"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/helpers */ \"./src/js/services/helpers.js\");\n/* harmony import */ var _AddToCartButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AddToCartButton */ \"./src/js/components/react/AddToCartButton.js\");\n/* harmony import */ var _Checkbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Checkbox */ \"./src/js/components/react/Checkbox.js\");\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\nvar ConsultationResultsProductSelection = function ConsultationResultsProductSelection(_ref) {\n    var handleAddToCart = _ref.handleAddToCart,\n        handleProductSelection = _ref.handleProductSelection,\n        products = _ref.products,\n        selectedProducts = _ref.selectedProducts;\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n        'div',\n        { className: 'o-layout o-layout--huge u-stack-layout@mobile u-pt+' },\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n            'div',\n            { className: 'o-layout__item u-4/12@mobile' },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'h3',\n                { className: 'u-heading u-mb' },\n                lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(window, 'globalData.addAllTitle', 'Your personal Josh Wood Colour products')\n            ),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'p',\n                null,\n                'Now you know your shade, here\\'s everything you need to achieve, maintain and care for your colour.'\n            )\n        ),\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', { className: 'o-layout__item u-1/12@mobile u-2/12@tablet' }),\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n            'div',\n            { className: 'o-layout__item u-7/12@mobile u-6/12@tablet' },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'ul',\n                { className: 'o-ui-list' },\n                products.map(function (product, index) {\n                    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'li',\n                        {\n                            className: 'o-ui-list__item u-pv-- u-flex u-align-items-center',\n                            key: 'product-' + index,\n                            style: {\n                                opacity: selectedProducts.includes(product.variantId) ? 1 : 0.4\n                            }\n                        },\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Checkbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            handleClick: handleProductSelection,\n                            isSelected: selectedProducts.includes(product.variantId),\n                            value: product.variantId\n                        }),\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'div',\n                            { className: 'o-flag u-flex u-align-items-center u-ml-- u-ml-@mobile' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                'div',\n                                {\n                                    className: 'o-flag__image c-product__image--cart t-grey-lightest u-p- u-text-center',\n                                    style: { height: 'auto' }\n                                },\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                    'a',\n                                    { href: '/products/' + product.key },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', {\n                                        className: 'u-square',\n                                        style: {\n                                            backgroundImage: 'url(' + product.imageSmall + ')',\n                                            backgroundPosition: 'center center',\n                                            backgroundSize: 'cover'\n                                        }\n                                    })\n                                )\n                            ),\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                'div',\n                                { className: 'o-flag__body u-pl@mobile u-1/1' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                    'div',\n                                    { className: 'o-layout u-flex u-align-items-top' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                        'div',\n                                        { className: 'o-layout__item u-9/12@mobile' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                            'a',\n                                            { href: '/products/' + product.key },\n                                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                                'strong',\n                                                { className: 'u-heading u-h6 u-spacing-0' },\n                                                product.type\n                                            )\n                                        )\n                                    ),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                        'div',\n                                        { className: 'o-layout__item u-3/12 u-text-right' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                            'strong',\n                                            { className: 'u-font-size-14 u-spacing-0' },\n                                            Object(_services_helpers__WEBPACK_IMPORTED_MODULE_2__[\"getPrice\"])(product.price)\n                                        )\n                                    )\n                                ),\n                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                    'div',\n                                    { className: 'u-weight-light' },\n                                    product.title\n                                )\n                            )\n                        )\n                    );\n                })\n            ),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'button',\n                {\n                    className: 'c-button c-button--black u-mt u-1/1',\n                    onClick: handleAddToCart,\n                    disabled: selectedProducts.length === 0\n                },\n                'Add ' + selectedProducts.length + ' product' + (selectedProducts.length === 1 ? '' : 's') + ' to cart'\n            )\n        )\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConsultationResultsProductSelection);\n\n//# sourceURL=webpack:///./src/js/components/react/ConsultationResultsProductSelection.js?");
>>>>>>> consultation-master

/***/ }),

/***/ "./src/js/config.js":
/*!**************************!*\
  !*** ./src/js/config.js ***!
  \**************************/
/*! exports provided: SPACING, SPACING_SMALL, SPACING_TINY, CHAT_BUBBLE_SPRING, CHAT_BUBBLE_SLOW_SPRING, ANIMATION_DURATION, ANIMATION_EASING, ANIMATION_ELASTICITY, API_URL, CONSULTATION_LANDING_URL, CONSULTATION_RESULTS_URL, CONSULTATION_STORAGE_KEY */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SPACING\", function() { return SPACING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SPACING_SMALL\", function() { return SPACING_SMALL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SPACING_TINY\", function() { return SPACING_TINY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHAT_BUBBLE_SPRING\", function() { return CHAT_BUBBLE_SPRING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHAT_BUBBLE_SLOW_SPRING\", function() { return CHAT_BUBBLE_SLOW_SPRING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANIMATION_DURATION\", function() { return ANIMATION_DURATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANIMATION_EASING\", function() { return ANIMATION_EASING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANIMATION_ELASTICITY\", function() { return ANIMATION_ELASTICITY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"API_URL\", function() { return API_URL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONSULTATION_LANDING_URL\", function() { return CONSULTATION_LANDING_URL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONSULTATION_RESULTS_URL\", function() { return CONSULTATION_RESULTS_URL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONSULTATION_STORAGE_KEY\", function() { return CONSULTATION_STORAGE_KEY; });\n/**\n * @prettier\n * \n */\nvar SPACING = 24;\nvar SPACING_SMALL = 12;\nvar SPACING_TINY = 8;\n\nvar CHAT_BUBBLE_SPRING = {\n    damping: 17,\n    stiffness: 140\n};\nvar CHAT_BUBBLE_SLOW_SPRING = {\n    damping: 18,\n    stiffness: 90\n};\n\nvar ANIMATION_DURATION = 600;\nvar ANIMATION_EASING = 'easeOutExpo';\nvar ANIMATION_ELASTICITY = ANIMATION_DURATION / 3;\n\nvar API_URL = 'https://api.joshwoodcolour.com/';\n\nvar CONSULTATION_LANDING_URL = '/pages/consultation';\nvar CONSULTATION_RESULTS_URL = '/pages/consultation-results';\nvar CONSULTATION_STORAGE_KEY = 'jwc-consultation-answers';\n\n//# sourceURL=webpack:///./src/js/config.js?");

/***/ }),

/***/ "./src/js/consultation-results.js":
/*!****************************************!*\
  !*** ./src/js/consultation-results.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
<<<<<<< HEAD
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/preact-compat/dist/preact-compat.es.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"./src/js/config.js\");\n/* harmony import */ var _services_cookie_consent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./services/cookie-consent */ \"./src/js/services/cookie-consent.js\");\n/* harmony import */ var _components_cart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/cart */ \"./src/js/components/cart.js\");\n/* harmony import */ var _components_consultation_results__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/consultation-results */ \"./src/js/components/consultation-results.js\");\n/* harmony import */ var _components_react_ConsultationRecommendations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/react/ConsultationRecommendations */ \"./src/js/components/react/ConsultationRecommendations.js\");\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\n\nvar init = function init() {\n    if (!Object(_services_cookie_consent__WEBPACK_IMPORTED_MODULE_2__[\"hasConsent\"])('necessary')) {\n        alert('Sorry  you must enable cookies to retrieve your Consultation results');\n        return;\n    }\n\n    var answers = JSON.parse(window.localStorage.getItem(_config__WEBPACK_IMPORTED_MODULE_1__[\"CONSULTATION_STORAGE_KEY\"]));\n\n    if (answers) {\n        var $container = document.querySelector('#consultation-results-container');\n\n        if ($container) {\n            var results = Object(_components_consultation_results__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(answers);\n\n            Object(react__WEBPACK_IMPORTED_MODULE_0__[\"render\"])(react__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createElement(_components_react_ConsultationRecommendations__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { answers: answers, results: results }), $container);\n\n            _components_cart__WEBPACK_IMPORTED_MODULE_3__[\"default\"].init();\n        }\n    } else if (typeof window !== 'undefined') {\n        window.location = _config__WEBPACK_IMPORTED_MODULE_1__[\"CONSULTATION_LANDING_URL\"];\n    }\n};\n\nif (window.isModernBrowser) {\n    window.addEventListener('load', init);\n}\n\n//# sourceURL=webpack:///./src/js/consultation-results.js?");
=======
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config */ \"./src/js/config.js\");\n/* harmony import */ var _services_cookie_consent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/cookie-consent */ \"./src/js/services/cookie-consent.js\");\n/* harmony import */ var _components_cart__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/cart */ \"./src/js/components/cart.js\");\n/* harmony import */ var _components_consultation_results__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/consultation-results */ \"./src/js/components/consultation-results.js\");\n/* harmony import */ var _components_react_ConsultationRecommendations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/react/ConsultationRecommendations */ \"./src/js/components/react/ConsultationRecommendations.js\");\n/**\n * @prettier\n * \n */\n\n\n\n\n\n\n\n\nvar init = function init() {\n    if (!Object(_services_cookie_consent__WEBPACK_IMPORTED_MODULE_3__[\"hasConsent\"])('necessary')) {\n        alert('Sorry  you must enable cookies to retrieve your Consultation results');\n        return;\n    }\n\n    var answers = JSON.parse(window.localStorage.getItem(_config__WEBPACK_IMPORTED_MODULE_2__[\"CONSULTATION_STORAGE_KEY\"]));\n\n    if (answers) {\n        var $container = document.querySelector('#consultation-results-container');\n\n        if ($container) {\n            var results = Object(_components_consultation_results__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(answers);\n\n            Object(react_dom__WEBPACK_IMPORTED_MODULE_1__[\"render\"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_react_ConsultationRecommendations__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { answers: answers, results: results }), $container);\n\n            _components_cart__WEBPACK_IMPORTED_MODULE_4__[\"default\"].init();\n        }\n    } else if (typeof window !== 'undefined') {\n        window.location = _config__WEBPACK_IMPORTED_MODULE_2__[\"CONSULTATION_LANDING_URL\"];\n    }\n};\n\nif (window.isModernBrowser) {\n    window.addEventListener('load', init);\n}\n\n//# sourceURL=webpack:///./src/js/consultation-results.js?");
>>>>>>> consultation-master

/***/ }),

/***/ "./src/js/services/cookie-consent.js":
/*!*******************************************!*\
  !*** ./src/js/services/cookie-consent.js ***!
  \*******************************************/
/*! exports provided: hasConsent, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasConsent\", function() { return hasConsent; });\n/**\n * @prettier\n */\nvar defaultConsent = {\n    consented: false,\n    consent: {\n        marketing: false,\n        necessary: true,\n        preferences: false,\n        stamp: '0',\n        statistics: false\n    },\n    cookieEnabled: false,\n    declined: false\n};\n\nvar consent = typeof window !== 'undefined' && window.CookieConsent ? window.CookieConsent : defaultConsent;\n\nvar hasConsent = function hasConsent(category) {\n    return consent.cookieEnabled && consent.consent.stamp !== '0' && consent.consent[category];\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (consent);\n\n//# sourceURL=webpack:///./src/js/services/cookie-consent.js?");

/***/ }),

/***/ "./src/js/services/helpers.js":
/*!************************************!*\
  !*** ./src/js/services/helpers.js ***!
  \************************************/
/*! exports provided: intendedTargetElement, throttle, lerp, getPrice, preloadImages, triggerMouseEvent, handleFetchErrors, getFetchParams, getShadeFromProductName, formatFormDataToJSON, formatFormDataToParams, isIE */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"intendedTargetElement\", function() { return intendedTargetElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"throttle\", function() { return throttle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lerp\", function() { return lerp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPrice\", function() { return getPrice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preloadImages\", function() { return preloadImages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"triggerMouseEvent\", function() { return triggerMouseEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleFetchErrors\", function() { return handleFetchErrors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFetchParams\", function() { return getFetchParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getShadeFromProductName\", function() { return getShadeFromProductName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatFormDataToJSON\", function() { return formatFormDataToJSON; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatFormDataToParams\", function() { return formatFormDataToParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIE\", function() { return isIE; });\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ \"./node_modules/lodash/get.js\");\n/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_round__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/round */ \"./node_modules/lodash/round.js\");\n/* harmony import */ var lodash_round__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_round__WEBPACK_IMPORTED_MODULE_1__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _this = undefined;\n\n/**\n * @prettier\n * @/flow\n */\n\n\n\n(function (window) {\n    if (typeof Event !== 'undefined') {\n        try {\n            new _MouseEvent('test');\n\n            return false;\n        } catch (e) {}\n\n        var _MouseEvent = function _MouseEvent(eventType) {\n            var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { bubbles: false, cancelable: false };\n\n            var mouseEvent = document.createEvent('MouseEvent');\n\n            mouseEvent.initMouseEvent(eventType, params.bubbles, params.cancelable, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n            return mouseEvent;\n        };\n\n        _MouseEvent.prototype = Event.prototype;\n\n        window.MouseEvent = _MouseEvent;\n    }\n})(window);\n\n/**\n * Still figuring out Flow types - will come back to this!\n * - For recursive functions, how do we define return types for a specific value or the function?\n * - How can HTMLElement types reference their 'possibly null' parentNode values?\n */\nvar intendedTargetElement = function intendedTargetElement(selector, element) {\n    if (element && !element.classList.contains(selector)) {\n        if (element.parentNode) {\n            return intendedTargetElement(selector, element.parentNode);\n        }\n    }\n\n    return element;\n};\n\nvar throttle = function throttle(func) {\n    var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n\n    var timer = null;\n\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        if (timer === null) {\n            timer = setTimeout(function () {\n                func.apply(_this, args);\n                timer = null;\n            }, wait);\n        }\n    };\n};\n\nvar lerp = function lerp(a, b) {\n    var f = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.1;\n    return (1 - f) * a + f * b;\n};\n\nvar getPrice = function getPrice(value) {\n    var currency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var roundBy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n\n    return '' + currency + lodash_round__WEBPACK_IMPORTED_MODULE_1___default()(value / roundBy, 2);\n};\n\nvar preloadImages = function preloadImages() {\n    var images = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    images.map(function (imageURL) {\n        if ((typeof Image === 'undefined' ? 'undefined' : _typeof(Image)) !== undefined) {\n            var image = new Image();\n\n            image.src = imageURL;\n        }\n    });\n};\n\nvar triggerMouseEvent = function triggerMouseEvent($element) {\n    var eventType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'click';\n\n    var event = new MouseEvent(eventType, {\n        bubbles: true,\n        cancelable: true,\n        view: window\n    });\n\n    var canceled = !$element.dispatchEvent(event);\n};\n\nvar handleFetchErrors = function handleFetchErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    return response;\n};\n\nvar getFetchParams = function getFetchParams(data) {\n    var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'get';\n\n    var params = {\n        credentials: 'same-origin',\n        headers: { Accept: 'application/json', 'content-type': 'application/json' },\n        method: method\n    };\n\n    if (data) {\n        params = _extends({}, params, {\n            method: 'post',\n            body: JSON.stringify(data)\n        });\n    }\n\n    return params;\n};\n\nvar getShadeFromProductName = function getShadeFromProductName() {\n    var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var matches = title.match(/[\\d\\.]+/g);\n\n    if (matches) {\n        var match = matches.join('');\n\n        return match;\n    }\n\n    return '';\n};\n\nvar formatFormDataToJSON = function formatFormDataToJSON($form) {\n    var formData = new FormData($form);\n    var formattedData = {};\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = formData.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var pair = _step.value;\n\n            formattedData[pair[0]] = pair[1];\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return JSON.stringify(formattedData);\n};\n\nvar formatFormDataToParams = function formatFormDataToParams($form) {\n    var formData = new FormData($form);\n    var formattedData = [];\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = formData.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var pair = _step2.value;\n\n            formattedData.push(pair[0] + '=' + pair[1]);\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n\n    return formattedData.join('&');\n};\n\nvar isIE = function isIE() {\n    if (typeof navigator !== 'undefined') {\n        var userAgent = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(navigator, 'userAgent', '').includes('MSIE');\n        var appVersion = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(navigator, 'appVersion', '').includes('Trident/');\n\n        return userAgent || appVersion;\n    }\n};\n\n//# sourceURL=webpack:///./src/js/services/helpers.js?");

/***/ })

/******/ });